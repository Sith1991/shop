(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{147:function(e,t,r){},148:function(e,t,r){},199:function(e,t,r){},204:function(e,t,r){},205:function(e,t,r){},212:function(e,t,r){},213:function(e,t,r){},214:function(e,t,r){},313:function(e,t,r){},314:function(e,t,r){},315:function(e,t,r){},316:function(e,t,r){},317:function(e,t,r){},318:function(e,t,r){},319:function(e,t,r){},320:function(e,t,r){},321:function(e,t,r){},323:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(18),c=r.n(o),i=r(24),s=r(15),l=r(36),d=r(11),u="FETCH_PRODUCTS_SUCCESS",p="FETCH_PRODUCTS_SPINNER_OPEN",j="FETCH_PRODUCTS_SPINNER_CLOSE",b="FETCH_PRODUCTS_FAILURE",h="FETCH_SELECTED_PRODUCT_SUCCESS",O="FETCH_SELECTED_PRODUCT_REQUEST",m="FETCH_SELECTED_PRODUCT_FAILURE",f="CLEAR_SELECTED_PRODUCT",x="FETCH_PROPERTIES_SUCCESS",g="FETCH_PROPERTIES_SPINNER_OPEN",y="FETCH_PROPERTIES_SPINNER_CLOSE",v="FETCH_PROPERTIES_FAILURE",N="NOTIFICATION_CREATED_PRODUCT",P="NOTIFICATION_EDITED_PRODUCT",w="NOTIFICATION_DELETED_PRODUCT",C="NOTIFICATION_CREATED_PROPERTY",E="NOTIFICATION_DELETED_PROPERTY",S="NOTIFICATION_GO_TO_CLOSE",I="NOTIFICATION_STATUS_RESET",T="USER_IS_LOGGED_IN",k="USER_IS_LOGGED_OUT",R="USER_IS_LOGGED_REQUEST",F=r(171),V=Object(l.b)({products:function(e,t){if(void 0===e)return{products:[],loading:!0,error:null};switch(t.type){case p:return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case j:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:null});case u:return Object(d.a)(Object(d.a)({},e),{},{products:t.payload,loading:!1,error:null});case b:return Object(d.a)(Object(d.a)({},e),{},{products:[],loading:!1,error:t.payload});default:return e}},properties:function(e,t){if(void 0===e)return{properties:[],loading:!0,error:null};switch(t.type){case x:return{properties:t.payload,loading:!1,error:null};case g:return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case y:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:null});case v:return{properties:[],loading:!1,error:t.payload};default:return e}},selectedProduct:function(e,t){if(void 0===e)return{selectedProduct:{},loading:!0,error:null};switch(t.type){case O:return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case h:return{selectedProduct:t.payload,loading:!1,error:null};case m:return{selectedProduct:{},loading:!1,error:t.payload};case f:return{selectedProduct:{},loading:!0,error:null};default:return e}},notifications:function(e,t){if(void 0===e)return{showNotification:!1,path:null,isEditing:!1,deletedItem:null};switch(t.type){case N:return{showNotification:!0,path:t.payload,isEditing:!1,deletedItem:null};case P:return{showNotification:!0,path:t.payload,isEditing:!0,deletedItem:null};case w:return{showNotification:!0,path:t.payload,isEditing:!1,deletedItem:"\u0442\u043e\u0432\u0430\u0440"};case C:return{showNotification:!0,path:t.payload,isEditing:!1,deletedItem:null};case E:return{showNotification:!0,path:t.payload,isEditing:!1,deletedItem:"\u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e"};case S:return Object(d.a)(Object(d.a)({},e),{},{showNotification:!1});case I:return{showNotification:!1,path:null,isEditing:!1,deletedItem:null};default:return e}},isAuth:function(e,t){if(void 0===e)return{logIn:!1,email:null,loading:!0};switch(t.type){case T:return{logIn:!0,email:t.payload,loading:!1};case k:return{logIn:!1,email:null,loading:!1};case R:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});default:return e}}}),_=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,B=Object(l.d)(V,_(Object(l.a)(F.a))),A=r(16),D=r(17),U=r(25),q=r(26),L=(r(199),r(1)),H=function(){return Object(L.jsx)("div",{className:"error-indicator",children:Object(L.jsxs)("div",{className:"error-indicator-wrap",children:[Object(L.jsx)("div",{className:"error-indicator-big-text",children:"Error!"}),Object(L.jsx)("div",{className:"error-indicator-big-text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(L.jsx)("div",{className:"error-indicator-low-text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0443\u0441\u0442\u0430\u0440\u0435\u043b\u0430, \u0431\u044b\u043b\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430 \u0438\u043b\u0438 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430 \u0432\u043e\u0432\u0441\u0435"}),Object(L.jsx)("div",{className:"back-to-home",children:Object(L.jsx)(s.b,{to:"/",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})]})})},W=function(e){Object(U.a)(r,e);var t=Object(q.a)(r);function r(){var e;Object(A.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(D.a)(r,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(L.jsx)(H,{}):this.props.children}}]),r}(n.Component),z=r(29),M=r(391),G=r(22),$=r(378),Q=r(379),J=r(380),X=r(381),Y=r(373),K=r(382),Z=r(183),ee=r(377),te=r(112),re=r(390),ne=r(368),ae=r(49),oe=r(371),ce=r(132),ie=r.n(ce),se=r(133),le=r.n(se),de=r(134),ue=r.n(de),pe=r(135),je=r.n(pe),be=function(e){var t=e.array,r=e.rowsPerPage,n=e.page,a=e.handleChangePage,o=e.handleChangeRowsPerPage,c=Object(ne.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));return Object(L.jsx)(re.a,{rowsPerPageOptions:[5,10,25,{label:"\u0412\u0441\u0435",value:-1}],count:t.length,rowsPerPage:r,page:n,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:a,onChangeRowsPerPage:o,ActionsComponent:function(e){var t=c(),r=Object(ae.a)(),n=e.count,a=e.page,o=e.rowsPerPage,i=e.onChangePage;return Object(L.jsxs)("div",{className:t.root,children:[Object(L.jsx)(oe.a,{onClick:function(e){i(e,0)},disabled:0===a,"aria-label":"first page",children:"rtl"===r.direction?Object(L.jsx)(ie.a,{}):Object(L.jsx)(le.a,{})}),Object(L.jsx)(oe.a,{onClick:function(e){i(e,a-1)},disabled:0===a,"aria-label":"previous page",children:"rtl"===r.direction?Object(L.jsx)(ue.a,{}):Object(L.jsx)(je.a,{})}),Object(L.jsx)(oe.a,{onClick:function(e){i(e,a+1)},disabled:a>=Math.ceil(n/o)-1,"aria-label":"next page",children:"rtl"===r.direction?Object(L.jsx)(je.a,{}):Object(L.jsx)(ue.a,{})}),Object(L.jsx)(oe.a,{onClick:function(e){i(e,Math.max(0,Math.ceil(n/o)-1))},disabled:a>=Math.ceil(n/o)-1,"aria-label":"last page",children:"rtl"===r.direction?Object(L.jsx)(le.a,{}):Object(L.jsx)(ie.a,{})})]})}})},he=r(394),Oe=r(376),me=(r(204),function(){var e=Object(ne.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))();return Object(L.jsx)(he.a,{className:e.backdrop,open:!0,children:Object(L.jsx)(Oe.a,{color:"inherit"})})}),fe=(r(147),function(e){var t=e.products,r=e.onDeleted,n=e.loading,o=e.productsError,c=e.deletedProduct,i=Object(Z.a)({palette:{primary:{main:"#1976d2"}}},te.ruRU),l=a.a.useState(0),d=Object(G.a)(l,2),u=d[0],p=d[1],j=a.a.useState(5),b=Object(G.a)(j,2),h=b[0],O=b[1],m=h-Math.min(h,t.length-u*h);function f(e,t,r){return t[r]<e[r]?-1:t[r]>e[r]?1:0}function x(e,t){return"desc"===e?function(e,r){return f(e,r,t)}:function(e,r){return-f(e,r,t)}}function g(e,t){var r=e.map((function(e,t){return[e,t]}));return r.sort((function(e,r){var n=t(e[0],r[0]);return 0!==n?n:e[1]-r[1]})),r.map((function(e){return e[0]}))}var y=a.a.useState("asc"),v=Object(G.a)(y,2),N=v[0],P=v[1],w=a.a.useState(),C=Object(G.a)(w,2),E=C[0],S=C[1];return Object(L.jsx)("div",{className:"product-list-table",children:Object(L.jsx)(ee.a,{theme:i,children:Object(L.jsx)($.a,{children:Object(L.jsxs)(Q.a,{children:[Object(L.jsx)(Ne,{order:N,orderBy:E,onRequestSort:function(e,t){P(E===t&&"asc"===N?"desc":"asc"),S(t)}}),n?Object(L.jsx)(J.a,{children:Object(L.jsx)(X.a,{children:Object(L.jsx)("th",{children:Object(L.jsx)(me,{})})})}):Object(L.jsxs)(J.a,{children:[(h>0?g(t,x(N,E)).slice(u*h,u*h+h):g(t,x(N,E))).map((function(e){var t=e.id,n=e.itemName,a=e.price,i=e.dateOfChange,l=a.toLocaleString("ru-RU"),d=function(e){var t=new Date;return t.setTime(e),("0"+t.getDate()).slice(-2)+"."+("0"+(t.getMonth()+1)).slice(-2)+"."+t.getFullYear().toString().substr(-2)}(i);return Object(L.jsxs)(X.a,{children:[Object(L.jsx)(Y.a,{align:"center",className:"link table-body",children:Object(L.jsx)(s.b,{to:"/item-card/".concat(t),children:Object(L.jsx)("div",{className:"table-value",children:n})})}),Object(L.jsx)(Y.a,{className:"table-body",children:Object(L.jsxs)("div",{className:"table-value",children:[l," $"]})}),Object(L.jsx)(Y.a,{className:"table-body",children:Object(L.jsx)("div",{className:"table-value",children:d})}),Object(L.jsx)(Y.a,{children:Object(L.jsxs)("div",{className:"links",children:[Object(L.jsx)(s.b,{to:"/add-item/".concat(t),className:"link",children:"\u0420\u0435\u0434."}),Object(L.jsx)(s.b,{to:"#",onClick:function(){return r(t,"products",o,c)},className:"link",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})})]},t)})),m>0&&Object(L.jsx)(X.a,{style:{height:47*m},children:Object(L.jsx)(Y.a,{colSpan:6})})]}),Object(L.jsx)(K.a,{children:Object(L.jsx)(X.a,{children:Object(L.jsx)(be,{array:t,rowsPerPage:h,page:u,handleChangePage:function(e,t){p(t)},handleChangeRowsPerPage:function(e){O(parseInt(e.target.value,10)),p(0)}})})})]})})})})}),xe=r(383),ge=r(395),ye=r(113),ve=r.n(ye),Ne=function(e){var t=e.order,r=e.orderBy,n=e.onRequestSort,a=Object(ne.a)((function(){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}))();return Object(L.jsx)(xe.a,{children:Object(L.jsxs)(X.a,{children:[[{id:"itemName",label:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{id:"price",label:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"},{id:"dateOfChange",label:"\u0414\u0430\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}].map((function(e){return Object(L.jsx)(Y.a,{sortDirection:r===e.id&&t,id:"".concat(e.id),align:"itemName"===e.id?"center":"left",children:Object(L.jsxs)(ge.a,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(o=e.id,function(e){n(e,o)}),IconComponent:ve.a,children:[Object(L.jsx)("div",{className:"table-header",children:e.label}),r===e.id?Object(L.jsx)("span",{className:a.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var o})),Object(L.jsx)(Y.a,{id:"administration",children:Object(L.jsx)("div",{className:"table-header",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})},"administration")]})})},Pe=r(176),we=r.n(Pe),Ce=r(384),Ee=r(385),Se=r(328),Ie=r(393),Te=r(327),ke=r(332),Re=(r(205),function(e){Object(U.a)(r,e);var t=Object(q.a)(r);function r(){var e;Object(A.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onSearchChange=function(t){e.props.termSetup(t.target.value)},e.onColumnChange=function(t){e.props.columnChange(t.target.value)},e}return Object(D.a)(r,[{key:"render",value:function(){return Object(L.jsxs)("div",{className:"search-panel",children:[Object(L.jsx)(Ce.a,{className:"input",size:"small",label:"\u041f\u043e\u0438\u0441\u043a",type:"search",variant:"outlined",onChange:this.onSearchChange,InputProps:{startAdornment:Object(L.jsx)(Ee.a,{position:"start",children:Object(L.jsx)(we.a,{})})}}),Object(L.jsxs)(Te.a,{className:"select",variant:"outlined",size:"small",children:[Object(L.jsx)(Se.a,{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(L.jsxs)(ke.a,{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",defaultValue:"itemName",onChange:this.onColumnChange,children:[Object(L.jsx)(Ie.a,{value:"itemName",children:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}),Object(L.jsx)(Ie.a,{value:"price",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(L.jsx)(Ie.a,{value:"dateOfChange",children:"\u0414\u0430\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})]})]})}}]),r}(n.Component)),Fe=r(34),Ve=r.n(Fe),_e=r(54),Be=r(40);r(324),r(207),r(210);Be.a.initializeApp({apiKey:"AIzaSyBqzyhjRSQnQiJdwh2_P2W-wS6XMhowBuI",authDomain:"shop-app-firebase.firebaseapp.com",databaseURL:"https://shop-app-firebase-default-rtdb.europe-west1.firebasedatabase.app",projectId:"shop-app-firebase",storageBucket:"shop-app-firebase.appspot.com",messagingSenderId:"159676401640",appId:"1:159676401640:web:ef06138de6d79548f6065d"});var Ae=Be.a.storage(),De=function(e,t,r){Be.a.database().ref().child("".concat(t)).on("value",(function(t){var n=t.val();e(r(null===n?[]:n))}))},Ue=function(){var e=Object(_e.a)(Ve.a.mark((function e(t,r,n,a){var o,c,i;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Be.a.database(),c=o.ref("".concat(r)),i=c.child(t),e.next=5,i.set(null,(function(e){e?n(e):a()}));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),qe=function(){Be.a.auth().signOut().then((function(){})).catch((function(){}))},Le=function(){var e=Object(_e.a)(Ve.a.mark((function e(t,r,n,a,o){var c,i,s;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Be.a.database(),i=c.ref("".concat(r)),s=i.push(),e.next=5,s.set(t,(function(e){e?n(e):(a(),o())}));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a,o){return e.apply(this,arguments)}}(),He=function(){var e=Object(_e.a)(Ve.a.mark((function e(t,r,n,a,o,c){var i,s,l;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Be.a.database(),s=i.ref("".concat(n)),l=s.child(r),e.next=5,l.set(t,(function(e){e?a(e):(o(),c())}));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a,o,c){return e.apply(this,arguments)}}(),We=function(){return Be.a.database.ServerValue.TIMESTAMP},ze=function(){return function(e){e($e()),function(e,t,r){Be.a.auth().onAuthStateChanged((function(n){e(n?t(n.email):r())}))}(e,Me,Ge)}},Me=function(e){return{type:T,payload:e}},Ge=function(){return{type:k}},$e=function(){return{type:R}},Qe=function(){return{type:I}},Je=function(e,t){for(var r=Object.values(e),n=Object.keys(e),a=0;a<n.length;a++)r[a].id=n[a];var o=r.find((function(e){return e.id===t}));return void 0===o?Ye(new Error("Some Error")):{type:h,payload:o}},Xe=function(){return{type:f}},Ye=function(e){return{type:m,payload:e}},Ke=function(e){return function(t){t({type:O}),function(e,t,r){Be.a.database().ref().child("products").on("value",(function(n){var a=n.val();e(null===a?t([]):t(a,r))}))}(t,Je,e)}},Ze=function(e){for(var t=Object.values(e),r=Object.keys(e),n=0;n<r.length;n++)t[n].id=r[n];return{type:u,payload:t}},et=function(){return{type:p}},tt=function(e){return{type:b,payload:e}},rt=function(){return function(e){e(et()),De(e,"products",Ze)}},nt=function(e){for(var t=Object.values(e),r=Object.keys(e),n=0;n<r.length;n++)t[n].id=r[n];return{type:x,payload:t}},at=function(){return{type:g}},ot=function(e){return{type:v,payload:e}},ct=function(){return function(e){e(at()),De(e,"properties",nt)}},it=function(e){return{logIn:e.isAuth.logIn,loading:e.isAuth.loading}},st=function(e){var t=function(t){Object(U.a)(n,t);var r=Object(q.a)(n);function n(){return Object(A.a)(this,n),r.apply(this,arguments)}return Object(D.a)(n,[{key:"render",value:function(){return this.props.loading?Object(L.jsx)(me,{}):this.props.logIn?Object(L.jsx)(e,Object(d.a)({},this.props)):Object(L.jsx)(z.a,{to:"/login"})}}]),n}(a.a.Component);return Object(i.b)(it)(t)},lt=(r(212),function(e){Object(U.a)(r,e);var t=Object(q.a)(r);function r(){var e;Object(A.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={term:"",columnName:"itemName"},e.columnChange=function(t){e.setState({columnName:t})},e.termSetup=function(t){e.setState({term:t})},e.searchItems=function(t,r){return 0===r.length?t:t.filter((function(t){return t[e.state.columnName].toString().toLowerCase().indexOf(r.toLowerCase())>-1}))},e}return Object(D.a)(r,[{key:"componentDidMount",value:function(){this.props.resetNotifications(),this.props.fetchProducts()}},{key:"render",value:function(){var e=this.props,t=e.products,r=e.loading,n=e.error,a=e.productsError,o=e.deletedProduct,c=this.state.term,i=this.searchItems(t,c);return Object(L.jsx)("div",{className:"product-list-wrap",children:Object(L.jsxs)("div",{className:"product-list",children:[Object(L.jsx)("div",{className:"button-wrap",children:Object(L.jsx)(s.b,{to:"/add-item",className:"add-item-link",children:Object(L.jsx)(M.a,{className:"add-button",variant:"warning",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"})})}),n?Object(L.jsx)(H,{}):Object(L.jsxs)("div",{children:[Object(L.jsx)(Re,{termSetup:this.termSetup,columnChange:this.columnChange}),Object(L.jsx)(fe,{products:i,onDeleted:Ue,loading:r,productsError:a,deletedProduct:o})]})]})})}}]),r}(n.Component)),dt={fetchProducts:rt,productsError:tt,deletedProduct:function(){return{type:w,payload:"/"}},resetNotifications:Qe},ut=Object(l.c)(st,Object(i.b)((function(e){return{products:e.products.products,loading:e.products.loading,error:e.products.error}}),dt))(lt),pt=(r(148),function(e){var t=e.properties,r=e.onDeleted,n=e.propertiesError,o=e.deletedProperty,c=Object(Z.a)({palette:{primary:{main:"#1976d2"}}},te.ruRU),i=a.a.useState(0),l=Object(G.a)(i,2),d=l[0],u=l[1],p=a.a.useState(5),j=Object(G.a)(p,2),b=j[0],h=j[1],O=b-Math.min(b,t.length-d*b);function m(e,t,r){return t[r]<e[r]?-1:t[r]>e[r]?1:0}function f(e,t){return"desc"===e?function(e,r){return m(e,r,t)}:function(e,r){return-m(e,r,t)}}function x(e,t){var r=e.map((function(e,t){return[e,t]}));return r.sort((function(e,r){var n=t(e[0],r[0]);return 0!==n?n:e[1]-r[1]})),r.map((function(e){return e[0]}))}var g=a.a.useState("asc"),y=Object(G.a)(g,2),v=y[0],N=y[1],P=a.a.useState(),w=Object(G.a)(P,2),C=w[0],E=w[1];return Object(L.jsx)("div",{className:"property-list-table",children:Object(L.jsx)(ee.a,{theme:c,children:Object(L.jsx)($.a,{children:Object(L.jsxs)(Q.a,{children:[Object(L.jsx)(jt,{order:v,orderBy:C,onRequestSort:function(e,t){N(C===t&&"asc"===v?"desc":"asc"),E(t)}}),Object(L.jsxs)(J.a,{children:[(b>0?x(t,f(v,C)).slice(d*b,d*b+b):x(t,f(v,C))).map((function(e){var t=e.id,a=e.propertyName,c=e.propertyType;return Object(L.jsxs)(X.a,{children:[Object(L.jsx)(Y.a,{children:Object(L.jsx)("div",{className:"property-name table-body",children:a})}),Object(L.jsx)(Y.a,{children:Object(L.jsx)("div",{className:"property-type table-body",children:c})}),Object(L.jsx)(Y.a,{align:"right",children:Object(L.jsx)(s.b,{to:"#",onClick:function(){return r(t,"properties",n,o)},className:"link",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]},t)})),O>0&&Object(L.jsx)(X.a,{style:{height:47*O},children:Object(L.jsx)(Y.a,{colSpan:6})})]}),Object(L.jsx)(K.a,{children:Object(L.jsx)(X.a,{children:Object(L.jsx)(be,{array:t,rowsPerPage:b,page:d,handleChangePage:function(e,t){u(t)},handleChangeRowsPerPage:function(e){h(parseInt(e.target.value,10)),u(0)}})})})]})})})})}),jt=function(e){var t=e.order,r=e.orderBy,n=e.onRequestSort,a=Object(ne.a)((function(){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}))();return Object(L.jsx)(xe.a,{children:Object(L.jsxs)(X.a,{children:[[{id:"propertyName",label:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u043f\u0440\u043e\u043f\u0435\u0440\u0442\u0438"},{id:"propertyType",label:"\u0422\u0438\u043f"}].map((function(e){return Object(L.jsx)(Y.a,{sortDirection:r===e.id&&t,id:"".concat(e.id),align:"propertyName"===e.id?"center":"left",children:Object(L.jsxs)(ge.a,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(o=e.id,function(e){n(e,o)}),IconComponent:ve.a,children:[Object(L.jsx)("div",{className:"table-header",children:e.label}),r===e.id?Object(L.jsx)("span",{className:a.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var o})),Object(L.jsx)(Y.a,{id:"administration",children:Object(L.jsx)("div",{className:"table-header",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})},"administration")]})})},bt=(r(213),{fetchProperties:ct,propertiesError:ot,deletedProperty:function(){return{type:E,payload:"/property-list"}},resetNotifications:Qe}),ht=Object(l.c)(st,Object(i.b)((function(e){return{properties:e.properties.properties,loading:e.properties.loading,error:e.properties.error}}),bt))((function(e){var t=e.fetchProperties,r=e.propertiesError,a=e.deletedProperty,o=e.properties,c=e.loading,i=e.error,l=e.resetNotifications;return Object(n.useEffect)((function(){l(),t()}),[]),c?Object(L.jsx)(me,{}):i?Object(L.jsx)(H,{}):Object(L.jsx)("div",{className:"property-list-wrap",children:Object(L.jsxs)("div",{className:"property-list",children:[Object(L.jsx)("div",{className:"button-wrap",children:Object(L.jsx)(s.b,{to:"/add-property",className:"add-property-link",children:Object(L.jsx)(M.a,{className:"add-prop-button",variant:"warning",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u043f\u0435\u0440\u0442\u0438"})})}),Object(L.jsx)(pt,{properties:o,onDeleted:Ue,propertiesError:r,deletedProperty:a})]})})})),Ot=(r(214),function(e){var t=e.email,r=e.history.location.pathname;return Object(L.jsxs)("div",{className:"main-wrap",children:[Object(L.jsxs)("div",{className:"header",children:[Object(L.jsxs)("div",{className:"button-group",children:[Object(L.jsxs)("div",{className:"wrap ".concat("/"===r?"colored":null),children:[Object(L.jsx)("div",{className:"background"}),Object(L.jsx)(s.b,{to:"/",className:"header-links",children:"\u041b\u0438\u0441\u0442\u0438\u043d\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})]}),Object(L.jsxs)("div",{className:"wrap ".concat("/property-list"===r?"colored":null),children:[Object(L.jsx)("div",{className:"background"}),Object(L.jsx)(s.b,{to:"/property-list",className:"header-links",children:"\u041b\u0438\u0441\u0442\u0438\u043d\u0433 \u043f\u0440\u043e\u043f\u0435\u0440\u0442\u0438"})]})]}),Object(L.jsxs)("div",{className:"button-group",children:[Object(L.jsxs)("div",{className:"user-name",children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c (E-mail): ",t]}),Object(L.jsx)("div",{className:"button-log-out-wrap",children:Object(L.jsx)(M.a,{className:"button-log-out",variant:"warning",onClick:qe,children:"\u0412\u044b\u0439\u0442\u0438"})})]})]}),Object(L.jsx)("div",{className:"content",children:Object(L.jsxs)(z.d,{children:[Object(L.jsx)(z.b,{path:"/",component:ut,exact:!0}),Object(L.jsx)(z.b,{path:"/property-list",component:ht,exact:!0})]})})]})}),mt=Object(l.c)(st,Object(i.b)((function(e){return{email:e.isAuth.email}}),null))((function(e){var t=e.email,r=e.history;return Object(L.jsx)(Ot,{email:t,history:r})})),ft=r(35),xt=r(9),gt=r(329),yt=r(330),vt=r(386),Nt=r(90),Pt=r.n(Nt),wt=r(91),Ct=r.n(wt),Et=r(333),St=(r(313),function(e){var t=e.message;if(void 0===t)return null;switch(t){case"There is no user record corresponding to this identifier. The user may have been deleted.":return Object(L.jsx)("div",{className:"text-error",children:"\u0414\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"});case"The password is invalid or the user does not have a password.":return Object(L.jsx)("div",{className:"text-error",children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"});case"The email address is already in use by another account.":return Object(L.jsx)("div",{className:"text-error",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0434\u0430\u043d\u043d\u044b\u043c e-mail \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"});default:return Object(L.jsx)("div",{className:"text-error",children:t})}}),It=Object(ne.a)({root:{maxWidth:"255px",padding:"8px 8px 7px 8px"},input:{padding:"0",height:"100%"}}),Tt=Object(ne.a)({root:{fontFamily:"Roboto, serif !important",fontStyle:"normal !important",fontWeight:"normal !important",fontSize:"14px !important",lineHeight:"16px !important",color:"#000000 !important",opacity:.8,letterSpacing:"0 !important"}}),kt=Object(ne.a)((function(e){return{formControl:{margin:0,width:255},root:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:14,lineHeight:"16px",color:"#000000",paddingTop:8.5,paddingBottom:6.5,opacity:.8},icon:{color:"#0258FF"}}})),Rt=Object(ne.a)({root:{maxWidth:"540px",padding:"8px 8px 7px 8px"}}),Ft=Object(ne.a)({root:{width:"255px",padding:"8px 8px 7px 8px",marginRight:"22px","@media (max-width:576px)":{marginRight:0}},input:{padding:"0"}}),Vt=Object(ne.a)({root:{maxWidth:"120px",marginLeft:0},label:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:14,lineHeight:"16px",color:"#000000",opacity:.8}}),_t=Object(ne.a)({root:{color:"#0258FF",padding:"8px"}}),Bt=Object(ne.a)({root:{background:"#ffb800","&:hover":{background:"#d7a002"},borderRadius:4,border:0,color:"#FFFFFF",height:32,width:160},label:{textTransform:"none"}}),At=Object(ne.a)({root:{background:"#ffb800","&:hover":{background:"#d7a002"},borderRadius:4,border:0,color:"#FFFFFF",height:32,width:200},label:{textTransform:"none"}}),Dt=Object(ne.a)({root:{background:"#34C15C","&:hover":{background:"#229641"},borderRadius:4,border:0,color:"#FFFFFF",height:32,width:160,boxShadow:"5px 10px 10px rgba(0, 0, 0, 0.05)"},label:{textTransform:"none"}}),Ut=Object(ne.a)({root:{background:"none","&:hover":{background:"none",boxShadow:"none"},borderRadius:4,color:"#828282",minHeight:32,width:255,boxShadow:"none",border:"1px solid #E0E0E0",padding:"4px 8px"},label:{textTransform:"none",justifyContent:"space-between"}}),qt=Object(ne.a)((function(e){return{formControl:{margin:0,width:255},root:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:14,lineHeight:"16px",color:"#000000",paddingTop:8.5,paddingBottom:6.5},icon:{color:"#0258FF"}}})),Lt=Object(Z.a)({typography:{button:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:16,lineHeight:"19px"}}}),Ht=Object(Z.a)({typography:{button:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:14,lineHeight:"16px",letterSpacing:"none"}}}),Wt=(r(314),Object(z.g)((function(e){var t=e.history,r=Bt(),a=Object(n.useState)(null),o=Object(G.a)(a,2),c=o[0],i=o[1],l=xt.e().shape({email:xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").min(4,"\u041b\u043e\u0433\u0438\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 4 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(20,"\u041b\u043e\u0433\u0438\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u043b\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").min(8,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),d=Object(ft.c)({initialValues:{email:"",password:"",showPassword:!1},validationSchema:l,onSubmit:function(e){(function(e){var t=e.email,r=e.password;return Be.a.auth().signInWithEmailAndPassword(t,r)})(e).then((function(){i(null),t.push("/")})).catch((function(e){console.log(e.message),i(e.message)}))},validateOnBlur:!0}),u=d.values,p=d.errors,j=d.touched,b=d.handleChange,h=d.handleBlur,O=d.isValid,m=d.handleSubmit,f=d.dirty,x=d.setFieldValue;return Object(L.jsx)("div",{className:"login",children:Object(L.jsxs)("form",{onSubmit:m,className:"form-wrap",children:[Object(L.jsx)("h4",{children:"\u0412\u0445\u043e\u0434"}),c?Object(L.jsx)(St,{message:c}):null,Object(L.jsxs)("div",{className:"login-wrap",children:[Object(L.jsxs)(Te.a,{fullWidth:!0,error:Boolean(j.email&&p.email),children:[Object(L.jsx)(gt.a,{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(L.jsx)(Et.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",name:"email",onChange:b,onBlur:h,value:u.email}),j.email&&p.email&&Object(L.jsx)(yt.a,{children:p.email})]}),Object(L.jsxs)(Te.a,{fullWidth:!0,error:Boolean(j.password&&p.password),children:[Object(L.jsx)(gt.a,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(L.jsx)(Et.a,{notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:u.showPassword?"text":"password",name:"password",onChange:b,onBlur:h,value:u.password,endAdornment:Object(L.jsx)(Ee.a,{position:"end",children:Object(L.jsx)(oe.a,{name:"showPassword",onClick:function(){return x("showPassword",!u.showPassword)},edge:"end",children:u.showPassword?Object(L.jsx)(Pt.a,{}):Object(L.jsx)(Ct.a,{})})})}),j.password&&p.password&&Object(L.jsx)(yt.a,{children:p.password})]})]}),Object(L.jsx)("div",{className:"login-button",children:Object(L.jsx)(ee.a,{theme:Lt,children:Object(L.jsx)(vt.a,{classes:{root:r.root,label:r.label},type:"submit",disabled:!O||!f,onClick:m,children:"\u0412\u043e\u0439\u0442\u0438"})})}),Object(L.jsx)("div",{className:"link",children:Object(L.jsx)(s.b,{to:"/registration",children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})})}))),zt={userIsAuth:ze},Mt=Object(i.b)((function(e){return{logIn:e.isAuth.logIn,loading:e.isAuth.loading}}),zt)((function(e){var t=e.logIn,r=e.userIsAuth,a=e.loading;return Object(n.useEffect)((function(){r()}),[]),a?Object(L.jsx)(me,{}):t?Object(L.jsx)(z.a,{to:"/"}):Object(L.jsx)(Wt,{})})),Gt=(r(315),Object(z.g)((function(e){var t=e.history,r=At(),a=Object(n.useState)(null),o=Object(G.a)(a,2),c=o[0],i=o[1],l=xt.e().shape({name:xt.g().min(4,"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 4 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(20,"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),secondName:xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:xt.g().min(8,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),confirmPassword:xt.g().oneOf([xt.f("password")],"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),email:xt.g().email("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 email").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),d=Object(ft.c)({initialValues:{name:"",secondName:"",password:"",confirmPassword:"",email:"",showPassword:!1,showConfirmPassword:!1},validationSchema:l,onSubmit:function(e){(function(e){var t=e.email,r=e.password;return Be.a.auth().createUserWithEmailAndPassword(t,r)})(e).then((function(){i(null),t.push("/")})).catch((function(e){console.log(e.message),i(e.message)}))},validateOnBlur:!0}),u=d.values,p=d.errors,j=d.touched,b=d.handleChange,h=d.handleBlur,O=d.isValid,m=d.handleSubmit,f=d.dirty,x=d.setFieldValue;return Object(L.jsx)("div",{className:"registration",children:Object(L.jsxs)("form",{onSubmit:m,className:"form-wrap",children:[Object(L.jsx)("h4",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),c?Object(L.jsx)(St,{message:c}):null,Object(L.jsxs)("div",{className:"registration-wrap",children:[Object(L.jsxs)(Te.a,{fullWidth:!0,error:Boolean(j.name&&p.name),children:[Object(L.jsx)(gt.a,{children:"\u0418\u043c\u044f"}),Object(L.jsx)(Et.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",name:"name",onChange:b,onBlur:h,value:u.name}),j.name&&p.name&&Object(L.jsx)(yt.a,{children:p.name})]}),Object(L.jsxs)(Te.a,{fullWidth:!0,error:Boolean(j.secondName&&p.secondName),children:[Object(L.jsx)(gt.a,{children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),Object(L.jsx)(Et.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",name:"secondName",onChange:b,onBlur:h,value:u.secondName}),j.secondName&&p.secondName&&Object(L.jsx)(yt.a,{children:p.secondName})]}),Object(L.jsxs)(Te.a,{fullWidth:!0,error:Boolean(j.email&&p.email),children:[Object(L.jsx)(gt.a,{children:"E-mail"}),Object(L.jsx)(Et.a,{type:"email",variant:"outlined",notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 e-mail",name:"email",onChange:b,onBlur:h,value:u.email}),j.email&&p.email&&Object(L.jsx)(yt.a,{children:p.email})]}),Object(L.jsxs)(Te.a,{fullWidth:!0,error:Boolean(j.password&&p.password),children:[Object(L.jsx)(gt.a,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(L.jsx)(Et.a,{notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:u.showPassword?"text":"password",name:"password",onChange:b,onBlur:h,value:u.password,endAdornment:Object(L.jsx)(Ee.a,{position:"end",children:Object(L.jsx)(oe.a,{name:"showPassword",onClick:function(){return x("showPassword",!u.showPassword)},edge:"end",children:u.showPassword?Object(L.jsx)(Pt.a,{}):Object(L.jsx)(Ct.a,{})})})}),j.password&&p.password&&Object(L.jsx)(yt.a,{children:p.password})]}),Object(L.jsxs)(Te.a,{fullWidth:!0,error:Boolean(j.confirmPassword&&p.confirmPassword),children:[Object(L.jsx)(gt.a,{children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(L.jsx)(Et.a,{notched:!1,placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:u.showConfirmPassword?"text":"password",name:"confirmPassword",onChange:b,onBlur:h,value:u.confirmPassword,endAdornment:Object(L.jsx)(Ee.a,{position:"end",children:Object(L.jsx)(oe.a,{name:"showConfirmPassword",onClick:function(){return x("showConfirmPassword",!u.showConfirmPassword)},edge:"end",children:u.showConfirmPassword?Object(L.jsx)(Pt.a,{}):Object(L.jsx)(Ct.a,{})})})}),j.confirmPassword&&p.confirmPassword&&Object(L.jsx)(yt.a,{children:p.confirmPassword})]})]}),Object(L.jsx)("div",{className:"registration-button",children:Object(L.jsx)(ee.a,{theme:Lt,children:Object(L.jsx)(vt.a,{classes:{root:r.root,label:r.label},type:"submit",disabled:!O||!f,onClick:m,children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})}),Object(L.jsx)("div",{className:"link",children:Object(L.jsx)(s.b,{to:"/login",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})})]})})}))),$t={userIsAuth:ze},Qt=Object(i.b)((function(e){return{logIn:e.isAuth.logIn}}),$t)((function(e){var t=e.logIn,r=e.userIsAuth;return Object(n.useEffect)((function(){r()}),[]),t?Object(L.jsx)(z.a,{to:"/"}):Object(L.jsx)(Gt,{})})),Jt=r(396),Xt=r(387),Yt=r(389),Kt=r(5),Zt=r.p+"static/media/Ellipse.f958a917.svg",er=function(e){var t=Object(ne.a)({root:{padding:"0 8px 0 0","&:hover":{backgroundColor:"transparent"}},icon:{borderRadius:"50%",width:24,height:24,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#FFFFFF",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))","$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#FFFFFF"}},checkedIcon:{backgroundImage:"url(".concat(Zt,")"),backgroundRepeat:"no-repeat",margin:"0px auto",backgroundPosition:"center center"}})();return Object(L.jsx)(Yt.a,Object(d.a)({className:t.root,disableRipple:!0,size:"small",color:"default",checkedIcon:Object(L.jsx)("span",{className:Object(Kt.a)(t.icon,t.checkedIcon)}),icon:Object(L.jsx)("span",{className:t.icon})},e))},tr=(r(316),function(e){var t=e.properties,r=e.propertiesError,n=e.createdProperty,a=e.propertiesSpinnerOpen,o=e.propertiesSpinnerClose,c=Tt(),i=It(),l=Dt(),u=Vt(),p=xt.e().shape({propertyName:xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").test("sameName","\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",(function(e){return!e||function(e,t){return!e.find((function(e){return(null===e||void 0===e?void 0:e.propertyName.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))}(t,e)})).required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertyType:xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),j=Object(ft.c)({initialValues:{propertyName:"",propertyType:"Dropdown"},validationSchema:p,onSubmit:function(){var e=Object(_e.a)(Ve.a.mark((function e(t){var c,i,s;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),c=t.propertyName,i=c.trim(),s=Object(d.a)(Object(d.a)({},t),{},{propertyName:i}),e.next=6,Le(s,"properties",r,o,n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validateOnBlur:!0}),b=j.values,h=j.errors,O=j.touched,m=j.handleChange,f=j.handleBlur,x=j.isValid,g=j.handleSubmit,y=j.dirty,v=function(e,t){return e&&t&&Object(L.jsx)(yt.a,{children:t})};return Object(L.jsx)(ee.a,{theme:Lt,children:Object(L.jsx)("div",{className:"add-property",children:Object(L.jsx)("div",{className:"add-property-bordered-wrap",children:Object(L.jsxs)("form",{onSubmit:g,className:"add-property-wrap",children:[Object(L.jsxs)("div",{className:"buttons-wrap",children:[Object(L.jsx)(s.b,{to:"/property-list",className:"button-back",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"}),Object(L.jsx)(vt.a,{disableRipple:!0,className:"button-save",classes:{root:l.root,label:l.label},type:"submit",disabled:!x||!y,onClick:g,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(L.jsx)("div",{className:"add-prop-head",children:Object(L.jsx)("h5",{children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430"})}),Object(L.jsxs)("div",{className:"add-prop-body",children:[Object(L.jsxs)(Te.a,{error:Boolean(O.propertyName&&h.propertyName),children:[Object(L.jsxs)(gt.a,{classes:{root:c.root},className:"labels",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",Object(L.jsx)("span",{className:"red-star",children:"*"})]}),Object(L.jsx)(Et.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",multiline:!0,classes:{root:i.root},name:"propertyName",onChange:m,onBlur:f,value:b.propertyName}),v(O.propertyName,h.propertyName)]}),Object(L.jsxs)(Te.a,{error:O.propertyType&&h.propertyType,children:[Object(L.jsxs)(gt.a,{classes:{root:c.root},focused:!1,className:"labels",children:["\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0438\u043f \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",Object(L.jsx)("span",{className:"red-star",children:"*"})]}),Object(L.jsxs)(Jt.a,{name:"propertyType",value:b.propertyType,onChange:m,onBlur:f,children:[Object(L.jsx)(Xt.a,{value:"Dropdown",control:Object(L.jsx)(er,{}),classes:{root:u.root,label:u.label},label:"Dropdown"}),Object(L.jsx)(Xt.a,{value:"Number",classes:{root:u.root,label:u.label},control:Object(L.jsx)(er,{}),label:"Number"}),Object(L.jsx)(Xt.a,{value:"String",classes:{root:u.root,label:u.label},control:Object(L.jsx)(er,{}),label:"String"})]}),v(O.propertyType,h.propertyType)]})]})]})})})})}),rr={fetchProperties:ct,propertiesError:ot,createdProperty:function(){return{type:C,payload:"/property-list"}},propertiesSpinnerOpen:at,propertiesSpinnerClose:function(){return{type:y}},resetNotifications:Qe},nr=Object(l.c)(st,Object(i.b)((function(e){return{properties:e.properties.properties,loading:e.properties.loading,error:e.properties.error,logIn:e.isAuth.logIn}}),rr))((function(e){var t=e.fetchProperties,r=e.propertiesError,a=e.properties,o=e.loading,c=e.error,i=e.createdProperty,s=e.propertiesSpinnerOpen,l=e.propertiesSpinnerClose,d=(e.logIn,e.resetNotifications);return Object(n.useEffect)((function(){d(),t()}),[]),o?Object(L.jsx)(me,{}):c?Object(L.jsx)(H,{}):Object(L.jsx)(tr,{properties:a,propertiesError:r,createdProperty:i,propertiesSpinnerOpen:s,propertiesSpinnerClose:l})})),ar=r(182),or=r(139),cr=r.n(or),ir=r(138),sr=r.n(ir),lr=(r(317),function(e){var t=e.handleChange,r=e.touched,a=e.errors,o=e.handleBlur,c=e.values,i=e.properties,s=e.getError,l=e.setFieldValue,d=e.setFieldTouched,u=kt(),p=_t(),j=Ft(),b=c.propertiesOfProduct,h=Object(n.useState)(i),O=Object(G.a)(h,2),m=O[0],f=O[1];Object(n.useEffect)((function(){!function(e,t){var r=e.filter((function(e){return!t.some((function(t){return e.propertyName===t.propertyName}))}));f(r)}(i,b)}),[i,b]);var x=function(e){var t=i.find((function(t){return t.propertyName===e})),r=m.slice();return r.push(t),r.map(g)},g=function(e,t){var r=e.propertyName;return Object(L.jsx)(Ie.a,{value:r,children:r},t)},y=function(e,n){var c=i.find((function(t){return t.propertyName===e.propertyName}));e.propertyType=c.propertyType,e.id=c.id;var l="propertiesOfProduct.".concat(n,".propertyValue");switch(c.propertyType){case"Dropdown":var d=function(e){return r.propertiesOfProduct&&r.propertiesOfProduct[n]&&a.propertiesOfProduct&&a.propertiesOfProduct[n]&&r.propertiesOfProduct[n].propertyValue&&a.propertiesOfProduct[n].propertyValue&&r.propertiesOfProduct[n].propertyValue[e]&&a.propertiesOfProduct[n].propertyValue[e]};return Object(L.jsx)(ft.a,{name:"".concat(l),children:function(c){var i=c.remove,u=c.push;return Object(L.jsxs)("div",{className:"add-property-right-column",children:[Object(L.jsx)("p",{className:"property-name",children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),e.propertyValue&&e.propertyValue.length>0&&e.propertyValue.map((function(e,c){return Object(L.jsxs)("div",{className:"input-with-remove-button",children:[Object(L.jsxs)(Te.a,{error:d(c)?Boolean(r.propertiesOfProduct[n].propertyValue[c].propertyValue&&a.propertiesOfProduct[n].propertyValue[c].propertyValue):null,children:[Object(L.jsx)(Et.a,{type:"text",variant:"outlined",notched:!1,multiline:!0,classes:{root:j.root,input:j.input},name:"".concat(l,".").concat(c,".propertyValue"),onChange:t,onBlur:o,value:b[n].propertyValue[c].propertyValue}),d(c)?s(r.propertiesOfProduct[n].propertyValue[c].propertyValue,a.propertiesOfProduct[n].propertyValue[c].propertyValue):null]}),Object(L.jsx)(oe.a,{classes:{root:p.root},onClick:function(){return i(c)},children:Object(L.jsx)(sr.a,{})})]},c)})),Object(L.jsx)("div",{className:"right-column-add-button",children:Object(L.jsx)(oe.a,{classes:{root:p.root},onClick:function(){return u({propertyValue:""})},children:Object(L.jsx)(cr.a,{})})})]})}});case"Number":var u=r.propertiesOfProduct&&r.propertiesOfProduct[n]&&a.propertiesOfProduct&&a.propertiesOfProduct[n];return Object(L.jsxs)("div",{className:"add-property-right-column",children:[Object(L.jsx)("p",{className:"property-name",children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),Object(L.jsxs)(Te.a,{error:u?Boolean(r.propertiesOfProduct[n].propertyValue&&a.propertiesOfProduct[n].propertyValue):null,children:[Object(L.jsx)(Et.a,{type:"number",variant:"outlined",notched:!1,classes:{root:j.root,input:j.input},name:"".concat(l),onChange:t,onBlur:o,value:b[n].propertyValue}),u?s(r.propertiesOfProduct[n].propertyValue,a.propertiesOfProduct[n].propertyValue):null]})]});case"String":var h=r.propertiesOfProduct&&r.propertiesOfProduct[n]&&a.propertiesOfProduct&&a.propertiesOfProduct[n];return Object(L.jsxs)("div",{className:"add-property-right-column",children:[Object(L.jsx)("p",{className:"property-name",children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),Object(L.jsxs)(Te.a,{error:h?Boolean(r.propertiesOfProduct[n].propertyValue&&a.propertiesOfProduct[n].propertyValue):null,children:[Object(L.jsx)(Et.a,{type:"text",variant:"outlined",notched:!1,multiline:!0,classes:{root:j.root,input:j.input},name:"".concat(l),onChange:t,onBlur:o,value:b[n].propertyValue}),h?s(r.propertiesOfProduct[n].propertyValue,a.propertiesOfProduct[n].propertyValue):null]})]});default:return null}};return Object(L.jsx)(ft.a,{name:"propertiesOfProduct",children:function(e){var r=e.remove,n=e.push;return Object(L.jsxs)("div",{className:"add-property-to-product",children:[Object(L.jsxs)("div",{className:"add-property-head",children:[Object(L.jsx)("h5",{children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0443 \u0441\u0432\u043e\u0439\u0441\u0442\u0432"}),i.length>b.length&&Object(L.jsx)(oe.a,{classes:{root:p.root},onClick:function(){return n({id:"",propertyName:"",propertyValue:"",propertyType:""})},children:Object(L.jsx)(cr.a,{})})]}),Object(L.jsx)("div",{className:"add-property-body",children:b.map((function(e,n){return Object(L.jsxs)("div",{className:"add-property-body-element",children:[Object(L.jsxs)("div",{className:"add-prop-left-column",children:[Object(L.jsxs)("div",{className:"add-prop-row",children:[Object(L.jsx)("div",{className:"add-prop-left-button-wrap",children:Object(L.jsx)(oe.a,{classes:{root:p.root},onClick:function(){!function(e){if(e){var t=i.find((function(t){return t.propertyName===e}));m.push(t)}}(b[n].propertyName),r(n)},children:Object(L.jsx)(sr.a,{})})}),Object(L.jsxs)("p",{className:"property-name",children:["\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e ",n+1]})]}),Object(L.jsx)(Te.a,{variant:"outlined",className:u.formControl,classes:{label:u.label},children:Object(L.jsx)(ke.a,{classes:{root:u.root,icon:u.icon},name:"propertiesOfProduct.".concat(n,".propertyName"),value:b[n].propertyName,onChange:function(e){!function(e,r){t(e),l("propertiesOfProduct.".concat(r,".propertyValue"),"",!1),d("propertiesOfProduct.".concat(r,".propertyValue"),!1,!1);var n=e.target.value,a=m.filter((function(e){return e.propertyName!==n}));f(a)}(e,n)},onBlur:o,notched:!1,children:b[n].propertyName?x(b[n].propertyName):m.map(g)})})]}),b[n].propertyName&&y(b[n],n)]},n)}))})]})}})}),dr=(r(318),function(e){var t=e.file,r=Object(n.useState)(void 0),a=Object(G.a)(r,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){t&&c((function(){var e=new FileReader;e.onloadend=function(){c(e.result)},e.readAsDataURL(t)}))}),[t]),t?Object(L.jsx)("img",{src:o,alt:t.name,className:"thumb svg-thumbnail mt-2"}):null}),ur=function(e){var t=e.classesInput,r=e.onChange,n=e.onBlur,a=e.values;return Object(L.jsx)(Et.a,{variant:"outlined",notched:!1,placeholder:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u0430",className:"number-input",classes:{root:t.root,input:t.input},name:"price",onChange:r,onBlur:n,value:a.price.toLocaleString("ru-RU")})},pr=(r(319),Object(z.g)((function(e){var t=e.properties,r=e.productsError,a=e.itemId,o=e.editingProduct,c=e.clearSelectedProduct,i=e.createdProduct,l=e.editedProduct,u=e.productsSpinnerOpen,p=e.productsSpinnerClose,j=Object(n.useState)(null),b=Object(G.a)(j,2),h=b[0],O=b[1],m=Tt(),f=It(),x=Dt(),g=Ut(),y=Rt(),v=xt.e().shape({itemName:xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").trim("\u0411\u0435\u0437 \u043f\u0430\u0440\u043e\u0431\u0435\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),price:xt.d().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c").integer("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0446\u0435\u043b\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c").test("firstSymbol","\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u0440\u043e\u0432\u043d\u044f\u0442\u044c\u0441\u044f \u043d\u0443\u043b\u044e",(function(e){return"0"!==(null===e||void 0===e?void 0:e.toString().charAt(0))})).required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),file:a?xt.a().of(xt.e().shape({file:xt.c().test("fileSize","\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 150\u043a\u0431",(function(e){return!!e&&e.size<153600})),type:xt.g().oneOf(["image/jpeg","image/png","image/pjpeg"],"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u043c .jpg,.jpeg,.png"),name:xt.g()}).nullable().typeError("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b")):xt.a().of(xt.e().shape({file:xt.c().test("fileSize","\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 150\u043a\u0431",(function(e){return!!e&&e.size<153600})).required(),type:xt.g().oneOf(["image/jpeg","image/png","image/pjpeg"],"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u043c .jpg,.jpeg,.png").required(),name:xt.g().required()}).typeError("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b")).required(),fileUrl:xt.g().nullable().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439"),description:xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertiesOfProduct:xt.a().of(xt.e().shape({id:xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertyName:xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertyType:xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertyValue:xt.b((function(e){switch(typeof e){case"number":return xt.d().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435");case"string":return xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435");default:return xt.a().of(xt.e().shape({propertyValue:xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")})).required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}}))}).required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"))}),N=function(e,t,r){return e&&t&&Object(L.jsx)(yt.a,{children:t},r)},P=Object(ft.c)({initialValues:{itemName:o.itemName,price:a?o.price:"",file:void 0,fileUrl:o.fileUrl,dateOfChange:"",description:o.description,propertiesOfProduct:a&&o.propertiesOfProduct?o.propertiesOfProduct:[]},validationSchema:v,onSubmit:function(){var e=Object(_e.a)(Ve.a.mark((function e(t){var n,o,c,s,j,b,O,m,f,x,g;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(),n=t.itemName,o=t.description,c=t.price,s=t.propertiesOfProduct,j=n.trim(),b=o.trim(),O=parseInt(String(c).replace(/ /g,"")),m=s.map((function(e){return"string"===typeof e.propertyValue?Object(d.a)(Object(d.a)({},e),{},{propertyValue:e.propertyValue.trim()}):Array.isArray(e.propertyValue)?Object(d.a)(Object(d.a)({},e),{},{propertyValue:e.propertyValue.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{propertyValue:e.propertyValue.trim()})}))}):e})),!h){e.next=13;break}return f="".concat(h.name,"_").concat(Math.floor(1e6*Math.random())),x=Ae.ref("images/".concat(f)).put(h),e.next=11,x.on("state_changed",(function(e){}),(function(e){r(e)}),(function(){Ae.ref("images").child(f).getDownloadURL().then((function(e){var n=Object(d.a)(Object(d.a)({},t),{},{itemName:j,description:b,price:O,propertiesOfProduct:m,file:[],fileUrl:e});a?He(Object(d.a)(Object(d.a)({},n),{},{dateOfChange:We()}),a,"products",r,p,l):Le(Object(d.a)(Object(d.a)({},n),{},{dateOfChange:We()}),"products",r,p,i)}))}));case 11:e.next=16;break;case 13:return g=Object(d.a)(Object(d.a)({},t),{},{itemName:j,description:b,price:O,propertiesOfProduct:m,file:[]}),e.next=16,He(Object(d.a)(Object(d.a)({},g),{},{dateOfChange:We()}),a,"products",r,p,l);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validateOnBlur:!0}),w=P.values,C=P.errors,E=P.touched,S=P.handleChange,I=P.handleBlur,T=P.isValid,k=P.handleSubmit,R=P.dirty,F=P.setFieldTouched,V=P.setFieldValue;return Object(L.jsx)(ft.b,{value:P,children:Object(L.jsx)(ee.a,{theme:Lt,children:Object(L.jsx)("div",{className:"add-item",children:Object(L.jsx)("div",{className:"add-item-bordered-wrap",children:Object(L.jsxs)("form",{onSubmit:k,className:"add-item-wrap",children:[Object(L.jsxs)("div",{className:"buttons-wrap",children:[Object(L.jsx)(s.b,{to:"/",className:"button-back",onClick:c,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"}),Object(L.jsx)(vt.a,{disableRipple:!0,className:"button-save",classes:{root:x.root,label:x.label},type:"submit",disabled:!T||!R,onClick:k,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(L.jsx)("div",{className:"add-item-head",children:Object(L.jsx)("h5",{children:a?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"})}),Object(L.jsxs)("div",{className:"add-item-body",children:[Object(L.jsxs)(Te.a,{error:Boolean(E.itemName&&C.itemName),children:[Object(L.jsxs)(gt.a,{classes:{root:m.root},className:"labels",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",Object(L.jsx)("span",{className:"red-star",children:"*"})]}),Object(L.jsx)(Et.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",multiline:!0,classes:{root:f.root,input:f.input},name:"itemName",onChange:S,onBlur:I,value:w.itemName}),N(E.itemName,C.itemName)]}),Object(L.jsxs)(Te.a,{error:Boolean(E.price&&C.price),children:[Object(L.jsxs)(gt.a,{classes:{root:m.root},className:"labels",children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u0430",Object(L.jsx)("span",{className:"red-star",children:"*"})]}),Object(L.jsx)(ar.a,{classesInput:f,onChange:S,onBlur:I,values:w,customInput:ur,format:function(e){return e.toString().replace(/(\d)(?=(\d{3})+$)/g,"$1 ")}}),N(E.price,C.price)]}),Object(L.jsxs)(Te.a,{error:Boolean(E.file&&C.file),children:[Object(L.jsxs)(gt.a,{classes:{root:m.root},className:"labels",children:["\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",Object(L.jsx)("span",{className:"red-star",children:"*"})]}),Object(L.jsx)(ft.a,{name:"file",children:function(e){return Object(L.jsxs)("div",{children:[Object(L.jsx)("input",{accept:".jpg,.jpeg,.png",className:"upload-input",id:"contained-button-file",multiple:!0,type:"file",name:"file",onBlur:I,onChange:function(t){var r,n=function(e){return e&&{file:e,type:e.type,name:e.name}}(t.target.files.item(0));F("file",!0,!1),(r=t).target.files[0]?O(r.target.files[0]):O(null),w.fileUrl=null,n||(e.remove(0),F("file",!0,!1),w.fileUrl=o.fileUrl),Array.isArray(w.file)?e.replace(0,n):e.push(n)}}),Object(L.jsx)("label",{className:"upload-bnt-label",htmlFor:"contained-button-file",children:Object(L.jsx)(ee.a,{theme:Ht,children:Object(L.jsx)(vt.a,{variant:"contained",component:"span",disableRipple:!0,classes:{root:g.root,label:g.label},endIcon:Object(L.jsx)("i",{className:"fa fa-upload","aria-hidden":"true"}),children:void 0===w.file||null===w.file[0]?Object(L.jsx)("div",{className:"upload-btn-name",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}):w.file[0].file.name})})})]})}}),function(e){var t=[];return e&&Array.isArray(e)&&e.forEach((function(e){"string"===typeof e?t.push(e):Object.values(e).forEach((function(e){t.push(e)}))})),t}(C.file).map((function(e,t){return N(!0,e,t)}))]}),w.fileUrl?Object(L.jsx)("img",{src:w.fileUrl,alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",className:"thumb svg-thumbnail mt-2"}):Object(L.jsx)(dr,{file:void 0===w.file||null===w.file[0]?null:w.file[0].file}),Object(L.jsxs)(Te.a,{error:Boolean(E.description&&C.description),children:[Object(L.jsxs)(gt.a,{classes:{root:m.root},className:"labels",children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",Object(L.jsx)("span",{className:"red-star",children:"*"})]}),Object(L.jsx)(Et.a,{type:"text",multiline:!0,rows:5,inputProps:{maxLength:1e3},variant:"outlined",notched:!1,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 1000 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",className:"add-item-textarea",classes:{root:y.root},name:"description",onChange:S,onBlur:I,value:w.description}),N(E.description,C.description)]})]}),Object(L.jsx)(lr,{handleChange:S,touched:E,errors:C,handleBlur:I,values:w,properties:a?function(e,t){if(!t)return e;var r=t.filter((function(t){return!e.some((function(e){return t.id===e.id}))}));return e.concat(r)}(t,o.propertiesOfProduct):t,getError:N,setFieldValue:V,setFieldTouched:F})]})})})})})}))),jr={fetchProperties:ct,fetchProducts:rt,productsError:tt,fetchSelectedProduct:Ke,clearSelectedProduct:Xe,createdProduct:function(){return{type:N,payload:"/"}},editedProduct:function(){return{type:P,payload:"/"}},productsSpinnerOpen:et,productsSpinnerClose:function(){return{type:j}},resetNotifications:Qe},br=Object(l.c)(st,Object(i.b)((function(e){return{properties:e.properties.properties,loadingProps:e.properties.loading,errorProps:e.properties.error,products:e.products.products,loadingProducts:e.products.loading,errorProducts:e.products.error,loadingEditingProduct:e.selectedProduct.loading,errorEditingProduct:e.selectedProduct.error,editingProduct:e.selectedProduct.selectedProduct}}),jr))((function(e){var t=e.fetchProperties,r=e.fetchProducts,a=e.productsError,o=e.properties,c=e.loadingProps,i=e.errorProps,s=e.products,l=e.loadingProducts,d=e.errorProducts,u=e.loadingEditingProduct,p=e.errorEditingProduct,j=e.editingProduct,b=e.fetchSelectedProduct,h=e.clearSelectedProduct,O=e.createdProduct,m=e.editedProduct,f=e.productsSpinnerOpen,x=e.productsSpinnerClose,g=e.match,y=e.resetNotifications,v=g.params.id;return Object(n.useEffect)((function(){return y(),r(),t(),v&&b(v),function(){return h()}}),[v]),c||l||u&&v?Object(L.jsx)(me,{}):i||d||p&&v?Object(L.jsx)(H,{}):Object(L.jsx)(pr,{properties:o,products:s,productsError:a,itemId:v,editingProduct:j,clearSelectedProduct:h,createdProduct:O,editedProduct:m,productsSpinnerOpen:f,productsSpinnerClose:x})})),hr=(r(320),function(e){var t=e.selectedProduct,r=e.clearSelectedProduct,a=e.logIn,o=Bt(),c=qt(),i=t.itemName,l=t.fileUrl,d=t.description,u=t.price,p=t.propertiesOfProduct,j=function(e,t){if("Dropdown"===e.propertyType)return y("propertiesOfProduct.".concat(t,".propertyValue"),p[t].propertyValue[0].propertyValue,!1)};Object(n.useEffect)((function(){p&&p.map(j)}),[]);var b=xt.e().shape({itemName:xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),description:xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),fileUrl:xt.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),price:xt.d().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c").integer("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0446\u0435\u043b\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertiesOfProduct:xt.a().of(xt.e().shape({id:xt.g(),propertyName:xt.g(),propertyType:xt.g(),propertyValue:xt.g()}))}),h=Object(ft.c)({initialValues:{itemName:i,description:d,fileUrl:l,price:u,propertiesOfProduct:p||[]},validationSchema:b,onSubmit:function(){var e=Object(_e.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:console.log(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validateOnBlur:!0}),O=h.values,m=h.handleChange,f=h.handleBlur,x=h.isValid,g=h.handleSubmit,y=h.setFieldValue,v=function(e,t){var r=e.propertyValue;return Object(L.jsx)(Ie.a,{value:r,children:r},t)};return Object(L.jsx)("div",{className:"product-card",children:Object(L.jsx)("div",{className:"product-card-bordered-wrap",children:Object(L.jsxs)("div",{className:"product-card-wrap",children:[a?Object(L.jsx)("div",{className:"link",children:Object(L.jsx)(s.b,{to:"/",onClick:r,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})}):null,Object(L.jsxs)("form",{onSubmit:g,className:"product-card-wrapper",children:[Object(L.jsxs)("div",{className:"header-items-row",children:[Object(L.jsx)("div",{className:"item-image",children:Object(L.jsx)("img",{src:l,alt:"product"})}),Object(L.jsxs)("div",{className:"item-information",children:[Object(L.jsx)("h3",{children:i}),Object(L.jsx)("p",{children:d})]})]}),Object(L.jsxs)("div",{className:"bottom-items-row",children:[Object(L.jsxs)("div",{className:"item-properties",children:[p&&p.map((function(e,t){var r=e.propertyName,n=e.propertyType,a=e.propertyValue;switch(n){case"Dropdown":return Object(L.jsxs)("div",{children:[Object(L.jsx)("h4",{children:r}),Object(L.jsx)(Te.a,{variant:"outlined",className:c.formControl,children:Object(L.jsx)(ke.a,{classes:{root:c.root,icon:c.icon},name:"propertiesOfProduct.".concat(t,".propertyValue"),onChange:m,onBlur:f,notched:!1,value:Array.isArray(O.propertiesOfProduct[t].propertyValue)?"":O.propertiesOfProduct[t].propertyValue,children:a.map(v)})})]},t);case"Number":case"String":return Object(L.jsxs)("div",{children:[Object(L.jsx)("h4",{children:r}),Object(L.jsx)("p",{children:a})]},t);default:return null}})),Object(L.jsx)("h4",{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(L.jsxs)("span",{className:"price",children:[u.toLocaleString("ru-RU"),"$"]})]}),Object(L.jsx)("div",{className:"button-wrap",children:Object(L.jsx)(ee.a,{theme:Lt,children:Object(L.jsx)(vt.a,{classes:{root:o.root,label:o.label},type:"submit",disabled:!x,onClick:g,children:"\u0411\u0435\u0440\u0443!!!"})})})]})]})]})})})}),Or={fetchSelectedProduct:Ke,clearSelectedProduct:Xe,resetNotifications:Qe},mr=Object(i.b)((function(e){return{loading:e.selectedProduct.loading,error:e.selectedProduct.error,selectedProduct:e.selectedProduct.selectedProduct,logIn:e.isAuth.logIn}}),Or)((function(e){var t=e.match,r=e.selectedProduct,a=e.loading,o=e.error,c=e.fetchSelectedProduct,i=e.clearSelectedProduct,s=e.logIn,l=e.resetNotifications,d=t.params.id;return Object(n.useEffect)((function(){return l(),c(d),function(){return i()}}),[d]),a?Object(L.jsx)(me,{}):o?Object(L.jsx)(H,{}):Object(L.jsx)(hr,{selectedProduct:r,clearSelectedProduct:i,logIn:s})})),fr=(r(321),function(){return Object(L.jsx)("div",{className:"app",children:Object(L.jsx)("div",{className:"wrapper",children:Object(L.jsxs)(z.d,{children:[Object(L.jsx)(z.b,{path:"/",component:mt,exact:!0}),Object(L.jsx)(z.b,{path:"/property-list",component:mt}),Object(L.jsx)(z.b,{path:"/add-property",component:nr}),Object(L.jsx)(z.b,{path:"/item-card/:id",component:mr}),Object(L.jsx)(z.b,{path:"/add-item/:id?",component:br}),Object(L.jsx)(z.b,{path:"/login",component:Mt}),Object(L.jsx)(z.b,{path:"/registration",component:Qt}),Object(L.jsx)(z.b,{render:function(){return Object(L.jsx)(H,{})}})]})})})}),xr={userIsAuth:ze},gr=Object(i.b)(null,xr)((function(e){var t=e.userIsAuth;return Object(n.useEffect)((function(){t()}),[]),Object(L.jsx)(fr,{})})),yr=r(392),vr=r(388),Nr=function(e){return Object(L.jsx)(vr.a,Object(d.a)({elevation:6,variant:"filled"},e))},Pr=Object(z.g)((function(e){var t=e.history,r=e.showNotification,n=e.path,a=e.deletedItem,o=e.isEditing,c=e.closeNotifications,i=function(e,r,a){"clickaway"!==r&&(c(),a||function(e){t.push("".concat(e))}(n))};return o&&!a&&"/"===n?Object(L.jsx)(yr.a,{open:r,autoHideDuration:4e3,onClose:i,children:Object(L.jsx)(Nr,{onClose:i,severity:"success",children:"\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d! \u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432."})}):o||a||"/"!==n?o||a||"/property-list"!==n?a?Object(L.jsx)(yr.a,{open:r,autoHideDuration:4e3,onClose:function(e,t){return i(0,t,!0)},children:Object(L.jsxs)(Nr,{onClose:function(e,t){return i(0,t,!0)},severity:"success",children:["\u0442\u043e\u0432\u0430\u0440"===a?"\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d":null,"\u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e"===a?"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e":null]})}):null:Object(L.jsx)(yr.a,{open:r,autoHideDuration:4e3,onClose:i,children:Object(L.jsx)(Nr,{onClose:i,severity:"success",children:"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e! \u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u0441\u0432\u043e\u0439\u0441\u0442\u0432."})}):Object(L.jsx)(yr.a,{open:r,autoHideDuration:4e3,onClose:i,children:Object(L.jsx)(Nr,{onClose:i,severity:"success",children:"\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d! \u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432."})})})),wr={closeNotifications:function(){return{type:S}}},Cr=Object(i.b)((function(e){return{showNotification:e.notifications.showNotification,path:e.notifications.path,isEditing:e.notifications.isEditing,deletedItem:e.notifications.deletedItem}}),wr)((function(e){var t=e.showNotification,r=e.path,n=e.isEditing,a=e.deletedItem,o=e.closeNotifications;return Object(L.jsx)(Pr,{showNotification:t,path:r,isEditing:n,deletedItem:a,closeNotifications:o})}));r(322);c.a.render(Object(L.jsx)(i.a,{store:B,children:Object(L.jsx)(W,{children:Object(L.jsxs)(s.a,{children:[Object(L.jsx)(Cr,{}),Object(L.jsx)(gr,{})]})})}),document.getElementById("root"))}},[[323,1,2]]]);
//# sourceMappingURL=main.3435e67f.chunk.js.map