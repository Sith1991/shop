(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{169:function(e,t,r){},170:function(e,t,r){},201:function(e,t,r){},308:function(e,t,r){},309:function(e,t,r){},311:function(e,t,r){},313:function(e,t,r){},314:function(e,t,r){},315:function(e,t,r){},316:function(e,t,r){},317:function(e,t,r){},318:function(e,t,r){},319:function(e,t,r){},320:function(e,t,r){},321:function(e,t,r){},322:function(e,t,r){},324:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(18),c=r.n(o),i=r(31),s=r(14),l=r(72),d=r(12),u="FETCH_PRODUCTS_SUCCESS",p="FETCH_PRODUCTS_SPINNER_OPEN",j="FETCH_PRODUCTS_FAILURE",b="FETCH_SELECTED_PRODUCT_SUCCESS",h="FETCH_SELECTED_PRODUCT_REQUEST",O="FETCH_SELECTED_PRODUCT_FAILURE",m="CLEAR_SELECTED_PRODUCT",f="FETCH_PROPERTIES_SUCCESS",x="FETCH_PROPERTIES_SPINNER_OPEN",g="FETCH_PROPERTIES_SPINNER_CLOSE",y="FETCH_PROPERTIES_FAILURE",v="NOTIFICATION_CREATED_PRODUCT",N="NOTIFICATION_EDITED_PRODUCT",P="NOTIFICATION_DELETED_PRODUCT",w="NOTIFICATION_CREATED_PROPERTY",C="NOTIFICATION_DELETED_PROPERTY",E="NOTIFICATION_GO_TO_CLOSE",S="NOTIFICATION_STATUS_RESET",I="USER_IS_LOGGED_IN",T="USER_IS_LOGGED_OUT",k=function(e,t){if(void 0===e)return{products:[],loading:!0,error:null};switch(t.type){case p:return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"FETCH_PRODUCTS_SPINNER_CLOSE":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:null});case u:return Object(d.a)(Object(d.a)({},e),{},{products:t.payload,loading:!1,error:null});case j:return Object(d.a)(Object(d.a)({},e),{},{products:[],loading:!1,error:t.payload});default:return e}},R=function(e,t){if(void 0===e)return{properties:[],loading:!0,error:null};switch(t.type){case f:return{properties:t.payload,loading:!1,error:null};case x:return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case g:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:null});case y:return{properties:[],loading:!1,error:t.payload};default:return e}},F=function(e,t){if(void 0===e)return{selectedProduct:{},loading:!0,error:null};switch(t.type){case h:return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case b:return{selectedProduct:t.payload,loading:!1,error:null};case O:return{selectedProduct:{},loading:!1,error:t.payload};case m:return{selectedProduct:{},loading:!0,error:null};default:return e}},V=function(e,t){if(void 0===e)return{showNotification:!1,path:null,isEditing:!1,deletedItem:null};switch(t.type){case v:return{showNotification:!0,path:t.payload,isEditing:!1,deletedItem:null};case N:return{showNotification:!0,path:t.payload,isEditing:!0,deletedItem:null};case P:return{showNotification:!0,path:t.payload,isEditing:!1,deletedItem:"\u0442\u043e\u0432\u0430\u0440"};case w:return{showNotification:!0,path:t.payload,isEditing:!1,deletedItem:null};case C:return{showNotification:!0,path:t.payload,isEditing:!1,deletedItem:"\u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e"};case E:return Object(d.a)(Object(d.a)({},e),{},{showNotification:!1});case S:return{showNotification:!1,path:null,isEditing:!1,deletedItem:null};default:return e}},_=function(e,t){if(void 0===e)return{logIn:!1,email:null};switch(t.type){case I:return{logIn:!0,email:t.payload};case T:return{logIn:!1,email:null};default:return e}},A=r(172),D=Object(l.c)({products:k,properties:R,selectedProduct:F,notifications:V,isAuth:_}),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,B=Object(l.e)(D,U(Object(l.a)(A.a))),q=B,L=r(16),H=r(17),W=r(24),z=r(25),M=(r(201),r(1)),G=function(){return Object(M.jsx)("div",{className:"error-indicator",children:Object(M.jsxs)("div",{className:"error-indicator-wrap",children:[Object(M.jsx)("div",{className:"error-indicator-big-text",children:"Error!"}),Object(M.jsx)("div",{className:"error-indicator-big-text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(M.jsx)("div",{className:"error-indicator-low-text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0443\u0441\u0442\u0430\u0440\u0435\u043b\u0430, \u0431\u044b\u043b\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430 \u0438\u043b\u0438 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430 \u0432\u043e\u0432\u0441\u0435"}),Object(M.jsx)("div",{className:"back-to-home",children:Object(M.jsx)(s.b,{to:"/",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})]})})},$=function(e){Object(W.a)(r,e);var t=Object(z.a)(r);function r(){var e;Object(L.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(H.a)(r,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(M.jsx)(G,{}):this.props.children}}]),r}(n.Component),J=r(27),Q=r(34),X=r.n(Q),Y=r(52),K=r(36),Z=(r(205),r(208),function(e,t,r){K.a.database().ref().child("".concat(t)).on("value",(function(t){var n=t.val();e(r(null===n?[]:n))}))}),ee=function(){var e=Object(Y.a)(X.a.mark((function e(t,r,n,a){var o,c,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=K.a.database(),c=o.ref("".concat(r)),i=c.child(t),e.next=5,i.set(null,(function(e){e?n(e):a()}));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),te=function(){K.a.auth().signOut().then((function(){return console.log("sign out")})).catch((function(e){return console.log(e)}))},re=function(){var e=Object(Y.a)(X.a.mark((function e(t,r,n,a,o){var c,i,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=K.a.database(),i=c.ref("".concat(r)),s=i.push(),e.next=5,s.set(t,(function(e){e?n(e):(a(),o())}));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a,o){return e.apply(this,arguments)}}(),ne=function(){var e=Object(Y.a)(X.a.mark((function e(t,r,n,a,o,c){var i,s,l;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=K.a.database(),s=i.ref("".concat(n)),l=s.child(r),e.next=5,l.set(t,(function(e){e?a(e):(o(),c())}));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a,o,c){return e.apply(this,arguments)}}(),ae=function(){return K.a.database.ServerValue.TIMESTAMP},oe=function(){return function(e){!function(e,t,r){K.a.auth().onAuthStateChanged((function(n){e(n?t(n.email):r())}))}(e,ce,ie)}},ce=function(e){return{type:I,payload:e}},ie=function(){return{type:T}},se=r(23),le=r(35),de=r(9),ue=r(326),pe=r(327),je=r(328),be=r(374),he=r(375),Oe=r(91),me=r.n(Oe),fe=r(92),xe=r.n(fe),ge=r(334),ye=r(373),ve=r(372),Ne=r(184),Pe=Object(Ne.a)({typography:{button:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:16,lineHeight:"19px"}}}),we=r(369),Ce=Object(we.a)({root:{background:"#ffb800","&:hover":{background:"#d7a002"},borderRadius:4,border:0,color:"#FFFFFF",height:32,width:160},label:{textTransform:"none"}}),Ee=(r(308),function(e){var t=e.message;if(void 0===t)return null;switch(t){case"There is no user record corresponding to this identifier. The user may have been deleted.":return Object(M.jsx)("div",{className:"text-error",children:"\u0414\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"});case"The password is invalid or the user does not have a password.":return Object(M.jsx)("div",{className:"text-error",children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"});case"The email address is already in use by another account.":return Object(M.jsx)("div",{className:"text-error",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0434\u0430\u043d\u043d\u044b\u043c e-mail \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"});default:return Object(M.jsx)("div",{className:"text-error",children:t})}}),Se=(r(309),Object(J.g)((function(e){var t=e.history,r=Ce(),a=Object(n.useState)(null),o=Object(se.a)(a,2),c=o[0],i=o[1],l=de.e().shape({email:de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").min(4,"\u041b\u043e\u0433\u0438\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 4 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(20,"\u041b\u043e\u0433\u0438\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u043b\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").min(8,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),d=Object(le.c)({initialValues:{email:"",password:"",showPassword:!1},validationSchema:l,onSubmit:function(e){(function(e){var t=e.email,r=e.password;return K.a.auth().signInWithEmailAndPassword(t,r)})(e).then((function(){i(null),t.push("/")})).catch((function(e){console.log(e.message),i(e.message)}))},validateOnBlur:!0}),u=d.values,p=d.errors,j=d.touched,b=d.handleChange,h=d.handleBlur,O=d.isValid,m=d.handleSubmit,f=d.dirty,x=d.setFieldValue;return Object(M.jsx)("div",{className:"login",children:Object(M.jsxs)("form",{onSubmit:m,className:"form-wrap",children:[Object(M.jsx)("h4",{children:"\u0412\u0445\u043e\u0434"}),c?Object(M.jsx)(Ee,{message:c}):null,Object(M.jsxs)("div",{className:"login-wrap",children:[Object(M.jsxs)(ue.a,{fullWidth:!0,error:j.email&&p.email,children:[Object(M.jsx)(pe.a,{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(M.jsx)(ge.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",name:"email",onChange:b,onBlur:h,value:u.email}),j.email&&p.email&&Object(M.jsx)(je.a,{children:p.email})]}),Object(M.jsxs)(ue.a,{fullWidth:!0,error:j.password&&p.password,children:[Object(M.jsx)(pe.a,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(M.jsx)(ge.a,{notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:u.showPassword?"text":"password",name:"password",onChange:b,onBlur:h,value:u.password,endAdornment:Object(M.jsx)(ve.a,{position:"end",children:Object(M.jsx)(ye.a,{name:"showPassword",onClick:function(){return x("showPassword",!u.showPassword)},edge:"end",children:u.showPassword?Object(M.jsx)(me.a,{}):Object(M.jsx)(xe.a,{})})})}),j.password&&p.password&&Object(M.jsx)(je.a,{children:p.password})]})]}),Object(M.jsx)("div",{className:"login-button",children:Object(M.jsx)(be.a,{theme:Pe,children:Object(M.jsx)(he.a,{classes:{root:r.root,label:r.label},type:"submit",disabled:!O||!f,onClick:m,children:"\u0412\u043e\u0439\u0442\u0438"})})}),Object(M.jsx)("div",{className:"link",children:Object(M.jsx)(s.b,{to:"/registration",children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})})}))),Ie={userIsAuth:oe},Te=Object(i.b)((function(e){return{logIn:e.isAuth.logIn}}),Ie)((function(e){var t=e.logIn,r=e.userIsAuth;return Object(n.useEffect)((function(){r()}),[]),t?Object(M.jsx)(J.a,{to:"/"}):Object(M.jsx)(Se,{})})),ke=Object(we.a)({root:{background:"#ffb800","&:hover":{background:"#d7a002"},borderRadius:4,border:0,color:"#FFFFFF",height:32,width:200},label:{textTransform:"none"}}),Re=(r(311),Object(J.g)((function(e){var t=e.history,r=ke(),a=Object(n.useState)(null),o=Object(se.a)(a,2),c=o[0],i=o[1],l=de.e().shape({name:de.g().min(4,"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 4 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(20,"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),secondName:de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:de.g().min(8,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),confirmPassword:de.g().oneOf([de.f("password")],"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),email:de.g().email("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 email").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),d=Object(le.c)({initialValues:{name:"",secondName:"",password:"",confirmPassword:"",email:"",showPassword:!1,showConfirmPassword:!1},validationSchema:l,onSubmit:function(e){(function(e){var t=e.email,r=e.password;return K.a.auth().createUserWithEmailAndPassword(t,r)})(e).then((function(){i(null),t.push("/")})).catch((function(e){console.log(e.message),i(e.message)}))},validateOnBlur:!0}),u=d.values,p=d.errors,j=d.touched,b=d.handleChange,h=d.handleBlur,O=d.isValid,m=d.handleSubmit,f=d.dirty,x=d.setFieldValue;return Object(M.jsx)("div",{className:"registration",children:Object(M.jsxs)("form",{onSubmit:m,className:"form-wrap",children:[Object(M.jsx)("h4",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),c?Object(M.jsx)(Ee,{message:c}):null,Object(M.jsxs)("div",{className:"registration-wrap",children:[Object(M.jsxs)(ue.a,{fullWidth:!0,error:j.name&&p.name,children:[Object(M.jsx)(pe.a,{children:"\u0418\u043c\u044f"}),Object(M.jsx)(ge.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",name:"name",onChange:b,onBlur:h,value:u.name}),j.name&&p.name&&Object(M.jsx)(je.a,{children:p.name})]}),Object(M.jsxs)(ue.a,{fullWidth:!0,error:j.secondName&&p.secondName,children:[Object(M.jsx)(pe.a,{children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),Object(M.jsx)(ge.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",name:"secondName",onChange:b,onBlur:h,value:u.secondName}),j.secondName&&p.secondName&&Object(M.jsx)(je.a,{children:p.secondName})]}),Object(M.jsxs)(ue.a,{fullWidth:!0,error:j.email&&p.email,children:[Object(M.jsx)(pe.a,{children:"E-mail"}),Object(M.jsx)(ge.a,{type:"email",variant:"outlined",notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 e-mail",name:"email",onChange:b,onBlur:h,value:u.email}),j.email&&p.email&&Object(M.jsx)(je.a,{children:p.email})]}),Object(M.jsxs)(ue.a,{fullWidth:!0,error:j.password&&p.password,children:[Object(M.jsx)(pe.a,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(M.jsx)(ge.a,{notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:u.showPassword?"text":"password",name:"password",onChange:b,onBlur:h,value:u.password,endAdornment:Object(M.jsx)(ve.a,{position:"end",children:Object(M.jsx)(ye.a,{name:"showPassword",onClick:function(){return x("showPassword",!u.showPassword)},edge:"end",children:u.showPassword?Object(M.jsx)(me.a,{}):Object(M.jsx)(xe.a,{})})})}),j.password&&p.password&&Object(M.jsx)(je.a,{children:p.password})]}),Object(M.jsxs)(ue.a,{fullWidth:!0,error:j.confirmPassword&&p.confirmPassword,children:[Object(M.jsx)(pe.a,{children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(M.jsx)(ge.a,{notched:!1,placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:u.showConfirmPassword?"text":"password",name:"confirmPassword",onChange:b,onBlur:h,value:u.confirmPassword,endAdornment:Object(M.jsx)(ve.a,{position:"end",children:Object(M.jsx)(ye.a,{name:"showConfirmPassword",onClick:function(){return x("showConfirmPassword",!u.showConfirmPassword)},edge:"end",children:u.showConfirmPassword?Object(M.jsx)(me.a,{}):Object(M.jsx)(xe.a,{})})})}),j.confirmPassword&&p.confirmPassword&&Object(M.jsx)(je.a,{children:p.confirmPassword})]})]}),Object(M.jsx)("div",{className:"registration-button",children:Object(M.jsx)(be.a,{theme:Pe,children:Object(M.jsx)(he.a,{classes:{root:r.root,label:r.label},type:"submit",disabled:!O||!f,onClick:m,children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})}),Object(M.jsx)("div",{className:"link",children:Object(M.jsx)(s.b,{to:"/login",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})})]})})}))),Fe={userIsAuth:oe},Ve=Object(i.b)((function(e){return{logIn:e.isAuth.logIn}}),Fe)((function(e){var t=e.logIn,r=e.userIsAuth;return Object(n.useEffect)((function(){r()}),[]),t?Object(M.jsx)(J.a,{to:"/"}):Object(M.jsx)(Re,{})})),_e=r(391),Ae=r(382),De=r(383),Ue=r(384),Be=r(380),qe=r(376),Le=r(385),He=r(116),We=r(390),ze=r(49),Me=r(134),Ge=r.n(Me),$e=r(135),Je=r.n($e),Qe=r(136),Xe=r.n(Qe),Ye=r(137),Ke=r.n(Ye),Ze=function(e){var t=e.array,r=e.rowsPerPage,n=e.page,a=e.handleChangePage,o=e.handleChangeRowsPerPage,c=Object(we.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));return Object(M.jsx)(We.a,{rowsPerPageOptions:[5,10,25,{label:"\u0412\u0441\u0435",value:-1}],count:t.length,rowsPerPage:r,page:n,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:a,onChangeRowsPerPage:o,ActionsComponent:function(e){var t=c(),r=Object(ze.a)(),n=e.count,a=e.page,o=e.rowsPerPage,i=e.onChangePage;return Object(M.jsxs)("div",{className:t.root,children:[Object(M.jsx)(ye.a,{onClick:function(e){i(e,0)},disabled:0===a,"aria-label":"first page",children:"rtl"===r.direction?Object(M.jsx)(Ge.a,{}):Object(M.jsx)(Je.a,{})}),Object(M.jsx)(ye.a,{onClick:function(e){i(e,a-1)},disabled:0===a,"aria-label":"previous page",children:"rtl"===r.direction?Object(M.jsx)(Xe.a,{}):Object(M.jsx)(Ke.a,{})}),Object(M.jsx)(ye.a,{onClick:function(e){i(e,a+1)},disabled:a>=Math.ceil(n/o)-1,"aria-label":"next page",children:"rtl"===r.direction?Object(M.jsx)(Ke.a,{}):Object(M.jsx)(Xe.a,{})}),Object(M.jsx)(ye.a,{onClick:function(e){i(e,Math.max(0,Math.ceil(n/o)-1))},disabled:a>=Math.ceil(n/o)-1,"aria-label":"last page",children:"rtl"===r.direction?Object(M.jsx)(Je.a,{}):Object(M.jsx)(Ge.a,{})})]})}})},et=r(379),tt=r(394),rt=r(115),nt=r.n(rt),at=(r(169),function(e){var t=e.order,r=e.orderBy,n=e.onRequestSort,a=Object(we.a)((function(){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}))();return Object(M.jsx)(et.a,{children:Object(M.jsxs)(Be.a,{children:[[{id:"itemName",label:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{id:"price",label:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"},{id:"dateOfChange",label:"\u0414\u0430\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}].map((function(e){return Object(M.jsx)(qe.a,{sortDirection:r===e.id&&t,id:"".concat(e.id),align:"itemName"===e.id?"center":"left",children:Object(M.jsxs)(tt.a,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(o=e.id,function(e){n(e,o)}),IconComponent:nt.a,children:[Object(M.jsx)("div",{className:"table-header",children:e.label}),r===e.id?Object(M.jsx)("span",{className:a.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var o})),Object(M.jsx)(qe.a,{id:"administration",children:Object(M.jsx)("div",{className:"table-header",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})},"administration")]})})}),ot=r(395),ct=r(381),it=(r(313),function(){var e=Object(we.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))();return Object(M.jsx)(ot.a,{className:e.backdrop,open:!0,children:Object(M.jsx)(ct.a,{color:"inherit"})})}),st=function(e){var t=e.products,r=e.onDeleted,n=e.loading,o=e.productsError,c=e.deletedProduct,i=Object(Ne.a)({palette:{primary:{main:"#1976d2"}}},He.ruRU),l=a.a.useState(0),d=Object(se.a)(l,2),u=d[0],p=d[1],j=a.a.useState(5),b=Object(se.a)(j,2),h=b[0],O=b[1],m=h-Math.min(h,t.length-u*h);function f(e,t,r){return t[r]<e[r]?-1:t[r]>e[r]?1:0}function x(e,t){return"desc"===e?function(e,r){return f(e,r,t)}:function(e,r){return-f(e,r,t)}}function g(e,t){var r=e.map((function(e,t){return[e,t]}));return r.sort((function(e,r){var n=t(e[0],r[0]);return 0!==n?n:e[1]-r[1]})),r.map((function(e){return e[0]}))}var y=a.a.useState("asc"),v=Object(se.a)(y,2),N=v[0],P=v[1],w=a.a.useState(),C=Object(se.a)(w,2),E=C[0],S=C[1];return Object(M.jsx)("div",{className:"product-list-table",children:Object(M.jsx)(be.a,{theme:i,children:Object(M.jsx)(Ae.a,{children:Object(M.jsxs)(De.a,{children:[Object(M.jsx)(at,{order:N,orderBy:E,onRequestSort:function(e,t){P(E===t&&"asc"===N?"desc":"asc"),S(t)}}),n?Object(M.jsx)(it,{}):Object(M.jsxs)(Ue.a,{children:[(h>0?g(t,x(N,E)).slice(u*h,u*h+h):g(t,x(N,E))).map((function(e){var t=e.id,n=e.itemName,a=e.price,i=e.dateOfChange,l=a.toLocaleString("ru-RU"),d=function(e){var t=new Date;return t.setTime(e),("0"+t.getDate()).slice(-2)+"."+("0"+(t.getMonth()+1)).slice(-2)+"."+t.getFullYear().toString().substr(-2)}(i);return Object(M.jsxs)(Be.a,{children:[Object(M.jsx)(qe.a,{align:"center",className:"link table-body",children:Object(M.jsx)(s.b,{to:"/item-card/".concat(t),children:Object(M.jsx)("div",{className:"table-value",children:n})})}),Object(M.jsx)(qe.a,{className:"table-body",children:Object(M.jsxs)("div",{className:"table-value",children:[l," $"]})}),Object(M.jsx)(qe.a,{className:"table-body",children:Object(M.jsx)("div",{className:"table-value",children:d})}),Object(M.jsx)(qe.a,{children:Object(M.jsxs)("div",{className:"links",children:[Object(M.jsx)(s.b,{to:"/add-item/".concat(t),className:"link",children:"\u0420\u0435\u0434."}),Object(M.jsx)(s.b,{to:"#",onClick:function(){return r(t,"products",o,c)},className:"link",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})})]},t)})),m>0&&Object(M.jsx)(Be.a,{style:{height:47*m},children:Object(M.jsx)(qe.a,{colSpan:6})})]}),Object(M.jsx)(Le.a,{children:Object(M.jsx)(Be.a,{children:Object(M.jsx)(Ze,{array:t,rowsPerPage:h,page:u,handleChangePage:function(e,t){p(t)},handleChangeRowsPerPage:function(e){O(parseInt(e.target.value,10)),p(0)}})})})]})})})})},lt=r(182),dt=r.n(lt),ut=r(386),pt=r(331),jt=r(393),bt=r(333),ht=(r(314),function(e){Object(W.a)(r,e);var t=Object(z.a)(r);function r(){var e;Object(L.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onSearchChange=function(t){e.props.termSetup(t.target.value)},e.onColumnChange=function(t){e.props.columnChange(t.target.value)},e}return Object(H.a)(r,[{key:"render",value:function(){return Object(M.jsxs)("div",{className:"search-panel",children:[Object(M.jsx)(ut.a,{className:"input",size:"small",label:"\u041f\u043e\u0438\u0441\u043a",type:"search",variant:"outlined",onChange:this.onSearchChange,InputProps:{startAdornment:Object(M.jsx)(ve.a,{position:"start",children:Object(M.jsx)(dt.a,{})})}}),Object(M.jsxs)(ue.a,{className:"select",variant:"outlined",size:"small",children:[Object(M.jsx)(pt.a,{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(M.jsxs)(bt.a,{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",defaultValue:"itemName",onChange:this.onColumnChange,children:[Object(M.jsx)(jt.a,{value:"itemName",children:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}),Object(M.jsx)(jt.a,{value:"price",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(M.jsx)(jt.a,{value:"dateOfChange",children:"\u0414\u0430\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})]})]})}}]),r}(n.Component)),Ot=function(e){for(var t=Object.values(e),r=Object.keys(e),n=0;n<r.length;n++)t[n].id=r[n];return{type:u,payload:t}},mt=function(){return{type:p}},ft=function(e){return{type:j,payload:e}},xt=function(){return function(e){e(mt()),Z(e,"products",Ot)}},gt=function(){return{type:S}},yt=(r(315),function(e){Object(W.a)(r,e);var t=Object(z.a)(r);function r(){var e;Object(L.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={term:"",columnName:"itemName"},e.columnChange=function(t){e.setState({columnName:t})},e.termSetup=function(t){e.setState({term:t})},e.searchItems=function(t,r){return 0===r.length?t:t.filter((function(t){return t[e.state.columnName].toString().toLowerCase().indexOf(r.toLowerCase())>-1}))},e}return Object(H.a)(r,[{key:"componentDidMount",value:function(){this.props.userIsAuth(),this.props.resetNotifications(),this.props.fetchProducts()}},{key:"render",value:function(){var e=this.props,t=e.products,r=e.loading,n=e.error,a=e.email,o=e.logIn,c=e.productsError,i=e.deletedProduct,l=this.state.term,d=this.searchItems(t,l);return o?Object(M.jsxs)("div",{className:"product-list-wrap",children:[Object(M.jsxs)("div",{className:"header",children:[Object(M.jsxs)("div",{className:"button-group",children:[Object(M.jsxs)("div",{className:"wrap colored",children:[Object(M.jsx)("div",{className:"background"}),Object(M.jsx)(s.b,{to:"/",className:"header-links",children:"\u041b\u0438\u0441\u0442\u0438\u043d\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})]}),Object(M.jsxs)("div",{className:"wrap",children:[Object(M.jsx)("div",{className:"background"}),Object(M.jsx)(s.b,{to:"/property-list",className:"header-links",children:"\u041b\u0438\u0441\u0442\u0438\u043d\u0433 \u043f\u0440\u043e\u043f\u0435\u0440\u0442\u0438"})]})]}),Object(M.jsxs)("div",{className:"button-group",children:[Object(M.jsxs)("div",{className:"user-name",children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c (E-mail): ",a]}),Object(M.jsx)("div",{className:"button-log-out-wrap",children:Object(M.jsx)(_e.a,{className:"button-log-out",variant:"warning",onClick:te,children:"\u0412\u044b\u0439\u0442\u0438"})})]})]}),Object(M.jsxs)("div",{className:"product-list",children:[Object(M.jsx)("div",{className:"button-wrap",children:Object(M.jsx)(s.b,{to:"/add-item",className:"add-item-link",children:Object(M.jsx)(_e.a,{className:"add-button",variant:"warning",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"})})}),n?Object(M.jsx)(G,{}):Object(M.jsxs)("div",{children:[Object(M.jsx)(ht,{termSetup:this.termSetup,columnChange:this.columnChange}),Object(M.jsx)(st,{products:d,onDeleted:ee,loading:r,productsError:c,deletedProduct:i})]})]})]}):Object(M.jsx)(J.a,{to:"/login"})}}]),r}(n.Component)),vt={fetchProducts:xt,productsError:ft,deletedProduct:function(){return{type:P,payload:"/"}},userIsAuth:oe,resetNotifications:gt},Nt=Object(i.b)((function(e){return{products:e.products.products,loading:e.products.loading,error:e.products.error,email:e.isAuth.email,logIn:e.isAuth.logIn}}),vt)(yt),Pt=(r(170),function(e){var t=e.order,r=e.orderBy,n=e.onRequestSort,a=Object(we.a)((function(){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}))();return Object(M.jsx)(et.a,{children:Object(M.jsxs)(Be.a,{children:[[{id:"propName",label:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u043f\u0440\u043e\u043f\u0435\u0440\u0442\u0438"},{id:"propType",label:"\u0422\u0438\u043f"}].map((function(e){return Object(M.jsx)(qe.a,{sortDirection:r===e.id&&t,id:"".concat(e.id),align:"itemName"===e.id?"center":"left",children:Object(M.jsxs)(tt.a,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(o=e.id,function(e){n(e,o)}),IconComponent:nt.a,children:[Object(M.jsx)("div",{className:"table-header",children:e.label}),r===e.id?Object(M.jsx)("span",{className:a.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var o})),Object(M.jsx)(qe.a,{id:"administration",children:Object(M.jsx)("div",{className:"table-header",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})},"administration")]})})}),wt=function(e){var t=e.properties,r=e.onDeleted,n=e.propertiesError,o=e.deletedProperty,c=Object(Ne.a)({palette:{primary:{main:"#1976d2"}}},He.ruRU),i=a.a.useState(0),l=Object(se.a)(i,2),d=l[0],u=l[1],p=a.a.useState(5),j=Object(se.a)(p,2),b=j[0],h=j[1],O=b-Math.min(b,t.length-d*b);function m(e,t,r){return t[r]<e[r]?-1:t[r]>e[r]?1:0}function f(e,t){return"desc"===e?function(e,r){return m(e,r,t)}:function(e,r){return-m(e,r,t)}}function x(e,t){var r=e.map((function(e,t){return[e,t]}));return r.sort((function(e,r){var n=t(e[0],r[0]);return 0!==n?n:e[1]-r[1]})),r.map((function(e){return e[0]}))}var g=a.a.useState("asc"),y=Object(se.a)(g,2),v=y[0],N=y[1],P=a.a.useState(),w=Object(se.a)(P,2),C=w[0],E=w[1];return Object(M.jsx)("div",{className:"property-list-table",children:Object(M.jsx)(be.a,{theme:c,children:Object(M.jsx)(Ae.a,{children:Object(M.jsxs)(De.a,{children:[Object(M.jsx)(Pt,{order:v,orderBy:C,onRequestSort:function(e,t){N(C===t&&"asc"===v?"desc":"asc"),E(t)}}),Object(M.jsxs)(Ue.a,{children:[(b>0?x(t,f(v,C)).slice(d*b,d*b+b):x(t,f(v,C))).map((function(e){var t=e.id,a=e.propertyName,c=e.propertyType;return Object(M.jsxs)(Be.a,{children:[Object(M.jsx)(qe.a,{children:Object(M.jsx)("div",{className:"property-name table-body",children:a})}),Object(M.jsx)(qe.a,{children:Object(M.jsx)("div",{className:"property-type table-body",children:c})}),Object(M.jsx)(qe.a,{align:"right",children:Object(M.jsx)(s.b,{to:"#",onClick:function(){return r(t,"properties",n,o)},className:"link",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]},t)})),O>0&&Object(M.jsx)(Be.a,{style:{height:47*O},children:Object(M.jsx)(qe.a,{colSpan:6})})]}),Object(M.jsx)(Le.a,{children:Object(M.jsx)(Be.a,{children:Object(M.jsx)(Ze,{array:t,rowsPerPage:b,page:d,handleChangePage:function(e,t){u(t)},handleChangeRowsPerPage:function(e){h(parseInt(e.target.value,10)),u(0)}})})})]})})})})},Ct=function(e){for(var t=Object.values(e),r=Object.keys(e),n=0;n<r.length;n++)t[n].id=r[n];return{type:f,payload:t}},Et=function(){return{type:x}},St=function(e){return{type:y,payload:e}},It=function(){return function(e){e(Et()),Z(e,"properties",Ct)}},Tt=(r(316),{fetchProperties:It,propertiesError:St,deletedProperty:function(){return{type:C,payload:"/property-list"}},resetNotifications:gt}),kt=Object(i.b)((function(e){return{properties:e.properties.properties,loading:e.properties.loading,error:e.properties.error,email:e.isAuth.email,logIn:e.isAuth.logIn}}),Tt)((function(e){var t=e.fetchProperties,r=e.propertiesError,a=e.deletedProperty,o=e.properties,c=e.loading,i=e.error,l=e.email,d=e.logIn,u=e.resetNotifications;return Object(n.useEffect)((function(){u(),t()}),[]),d?c?Object(M.jsx)(it,{}):i?Object(M.jsx)(G,{}):Object(M.jsxs)("div",{className:"property-list-wrap",children:[Object(M.jsxs)("div",{className:"header",children:[Object(M.jsxs)("div",{className:"button-group",children:[Object(M.jsxs)("div",{className:"wrap",children:[Object(M.jsx)("div",{className:"background"}),Object(M.jsx)(s.b,{to:"/",className:"header-links",children:"\u041b\u0438\u0441\u0442\u0438\u043d\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})]}),Object(M.jsxs)("div",{className:"wrap colored",children:[Object(M.jsx)("div",{className:"background"}),Object(M.jsx)(s.b,{to:"/property-list",className:"header-links",children:"\u041b\u0438\u0441\u0442\u0438\u043d\u0433 \u043f\u0440\u043e\u043f\u0435\u0440\u0442\u0438"})]})]}),Object(M.jsxs)("div",{className:"button-group",children:[Object(M.jsxs)("div",{className:"user-name",children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c (E-mail): ",l]}),Object(M.jsx)("div",{className:"button-log-out-wrap",children:Object(M.jsx)(_e.a,{className:"button-log-out",variant:"warning",onClick:te,children:"\u0412\u044b\u0439\u0442\u0438"})})]})]}),Object(M.jsxs)("div",{className:"property-list",children:[Object(M.jsx)("div",{className:"button-wrap",children:Object(M.jsx)(s.b,{to:"/add-property",className:"add-property-link",children:Object(M.jsx)(_e.a,{className:"add-prop-button",variant:"warning",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u043f\u0435\u0440\u0442\u0438"})})}),Object(M.jsx)(wt,{properties:o,onDeleted:ee,propertiesError:r,deletedProperty:a})]})]}):Object(M.jsx)(J.a,{to:"/login"})})),Rt=r(396),Ft=r(387),Vt=Object(we.a)({root:{fontFamily:"Roboto, serif !important",fontStyle:"normal !important",fontWeight:"normal !important",fontSize:"14px !important",lineHeight:"16px !important",color:"#000000 !important",opacity:.8,letterSpacing:"0 !important"}}),_t=Object(we.a)({root:{maxWidth:"255px",padding:"8px 8px 7px 8px"},input:{padding:"0",height:"100%"}}),At=Object(we.a)({root:{background:"#34C15C","&:hover":{background:"#229641"},borderRadius:4,border:0,color:"#FFFFFF",height:32,width:160,boxShadow:"5px 10px 10px rgba(0, 0, 0, 0.05)"},label:{textTransform:"none"}}),Dt=Object(we.a)({root:{maxWidth:"120px",marginLeft:0},label:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:14,lineHeight:"16px",color:"#000000",opacity:.8}}),Ut=r(389),Bt=r(5),qt=r.p+"static/media/Ellipse.7ad78ffd.svg",Lt=function(e){var t=Object(we.a)({root:{padding:"0 8px 0 0","&:hover":{backgroundColor:"transparent"}},icon:{borderRadius:"50%",width:24,height:24,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#FFFFFF",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))","$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#FFFFFF"}},checkedIcon:{backgroundImage:"url(".concat(qt,")"),backgroundRepeat:"no-repeat",margin:"0px auto",backgroundPosition:"center center"}})();return Object(M.jsx)(Ut.a,Object(d.a)({className:t.root,disableRipple:!0,size:"small",color:"default",checkedIcon:Object(M.jsx)("span",{className:Object(Bt.a)(t.icon,t.checkedIcon)}),icon:Object(M.jsx)("span",{className:t.icon})},e))},Ht=(r(317),function(e){var t=e.properties,r=e.propertiesError,n=e.createdProperty,a=e.propertiesSpinnerOpen,o=e.propertiesSpinnerClose,c=Vt(),i=_t(),l=At(),u=Dt(),p=de.e().shape({propertyName:de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").test("sameName","\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",(function(e){return!e||function(e,t){return!e.find((function(e){return(null===e||void 0===e?void 0:e.propertyName.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))}(t,e)})).required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertyType:de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),j=Object(le.c)({initialValues:{propertyName:"",propertyType:"Dropdown"},validationSchema:p,onSubmit:function(){var e=Object(Y.a)(X.a.mark((function e(t){var c,i,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),c=t.propertyName,i=c.trim(),s=Object(d.a)(Object(d.a)({},t),{},{propertyName:i}),e.next=6,re(s,"properties",r,o,n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validateOnBlur:!0}),b=j.values,h=j.errors,O=j.touched,m=j.handleChange,f=j.handleBlur,x=j.isValid,g=j.handleSubmit,y=j.dirty,v=function(e,t){return e&&t&&Object(M.jsx)(je.a,{children:t})};return Object(M.jsx)(be.a,{theme:Pe,children:Object(M.jsx)("div",{className:"add-property",children:Object(M.jsx)("div",{className:"add-property-bordered-wrap",children:Object(M.jsxs)("form",{onSubmit:g,className:"add-property-wrap",children:[Object(M.jsxs)("div",{className:"buttons-wrap",children:[Object(M.jsx)(s.b,{to:"/property-list",className:"button-back",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"}),Object(M.jsx)(he.a,{disableRipple:!0,className:"button-save",classes:{root:l.root,label:l.label},type:"submit",disabled:!x||!y,onClick:g,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(M.jsx)("div",{className:"add-prop-head",children:Object(M.jsx)("h5",{children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430"})}),Object(M.jsxs)("div",{className:"add-prop-body",children:[Object(M.jsxs)(ue.a,{error:O.propertyName&&h.propertyName,children:[Object(M.jsxs)(pe.a,{classes:{root:c.root},className:"labels",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",Object(M.jsx)("span",{className:"red-star",children:"*"})]}),Object(M.jsx)(ge.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",multiline:!0,classes:{root:i.root},name:"propertyName",onChange:m,onBlur:f,value:b.propertyName}),v(O.propertyName,h.propertyName)]}),Object(M.jsxs)(ue.a,{error:O.propertyType&&h.propertyType,children:[Object(M.jsxs)(pe.a,{classes:{root:c.root},focused:!1,className:"labels",children:["\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0438\u043f \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",Object(M.jsx)("span",{className:"red-star",children:"*"})]}),Object(M.jsxs)(Rt.a,{name:"propertyType",value:b.propertyType,onChange:m,onBlur:f,children:[Object(M.jsx)(Ft.a,{value:"Dropdown",control:Object(M.jsx)(Lt,{}),classes:{root:u.root,label:u.label},label:"Dropdown"}),Object(M.jsx)(Ft.a,{value:"Number",classes:{root:u.root,label:u.label},control:Object(M.jsx)(Lt,{}),label:"Number"}),Object(M.jsx)(Ft.a,{value:"String",classes:{root:u.root,label:u.label},control:Object(M.jsx)(Lt,{}),label:"String"})]}),v(O.propertyType,h.propertyType)]})]})]})})})})}),Wt={fetchProperties:It,propertiesError:St,createdProperty:function(){return{type:w,payload:"/property-list"}},propertiesSpinnerOpen:Et,propertiesSpinnerClose:function(){return{type:g}},resetNotifications:gt},zt=Object(i.b)((function(e){return{properties:e.properties.properties,loading:e.properties.loading,error:e.properties.error,logIn:e.isAuth.logIn}}),Wt)((function(e){var t=e.fetchProperties,r=e.propertiesError,a=e.properties,o=e.loading,c=e.error,i=e.createdProperty,s=e.propertiesSpinnerOpen,l=e.propertiesSpinnerClose,d=e.logIn,u=e.resetNotifications;return Object(n.useEffect)((function(){u(),t()}),[]),d?o?Object(M.jsx)(it,{}):c?Object(M.jsx)(G,{}):Object(M.jsx)(Ht,{properties:a,propertiesError:r,createdProperty:i,propertiesSpinnerOpen:s,propertiesSpinnerClose:l}):Object(M.jsx)(J.a,{to:"/login"})})),Mt=r(140),Gt=r.n(Mt),$t=r(139),Jt=r.n($t),Qt=Object(we.a)((function(e){return{formControl:{margin:0,width:255},root:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:14,lineHeight:"16px",color:"#000000",paddingTop:8.5,paddingBottom:6.5},icon:{color:"#0258FF"}}})),Xt=Object(we.a)({root:{color:"#0258FF",padding:"8px"}}),Yt=Object(we.a)({root:{width:"255px",padding:"8px 8px 7px 8px",marginRight:"22px","@media (max-width:576px)":{marginRight:0}},input:{padding:"0",height:"1em"}}),Kt=(r(318),function(e){var t=e.handleChange,r=e.touched,a=e.errors,o=e.handleBlur,c=e.values,i=e.properties,s=e.getError,l=Qt(),d=Xt(),u=Yt(),p=c.propertiesOfProduct,j=Object(n.useState)(i),b=Object(se.a)(j,2),h=b[0],O=b[1];Object(n.useEffect)((function(){return function(e,t){var r=e.filter((function(e){return!t.some((function(t){return e.propertyName===t.propertyName}))}));O(r)}(i,p)}),[i,p]);var m=function(e){var t=i.find((function(t){return t.propertyName===e})),r=h.slice();return r.push(t),r.map(f)},f=function(e){var t=e.propertyName;return Object(M.jsx)(jt.a,{value:t,children:t})},x=function(e,n){var c=i.find((function(t){return t.propertyName===e.propertyName}));e.propertyType=c.propertyType,e.id=c.id;var l="propertiesOfProduct.".concat(n,".propertyValue");switch(c.propertyType){case"Dropdown":return Object(M.jsx)(le.a,{name:"".concat(l),children:function(c){var i=c.remove,j=c.push;return Object(M.jsxs)("div",{className:"add-property-right-column",children:[Object(M.jsx)("p",{className:"property-name",children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),e.propertyValue&&e.propertyValue.length>0&&e.propertyValue.map((function(e,c){return Object(M.jsxs)("div",{className:"input-with-remove-button",children:[Object(M.jsxs)(ue.a,{error:r.propertiesOfProduct&&r.propertiesOfProduct[n]&&a.propertiesOfProduct&&a.propertiesOfProduct[n]&&r.propertiesOfProduct[n].propertyValue&&a.propertiesOfProduct[n].propertyValue&&r.propertiesOfProduct[n].propertyValue[c]&&a.propertiesOfProduct[n].propertyValue[c]?r.propertiesOfProduct[n].propertyValue[c].propertyValue&&a.propertiesOfProduct[n].propertyValue[c].propertyValue:null,children:[Object(M.jsx)(ge.a,{type:"text",variant:"outlined",notched:!1,multiline:!0,classes:{root:u.root,input:u.input},name:"".concat(l,".").concat(c,".propertyValue"),onChange:t,onBlur:o,value:p[n].propertyValue[c].propertyValue}),r.propertiesOfProduct&&r.propertiesOfProduct[n]&&a.propertiesOfProduct&&a.propertiesOfProduct[n]&&r.propertiesOfProduct[n].propertyValue&&a.propertiesOfProduct[n].propertyValue&&r.propertiesOfProduct[n].propertyValue[c]&&a.propertiesOfProduct[n].propertyValue[c]?s(r.propertiesOfProduct[n].propertyValue[c].propertyValue,a.propertiesOfProduct[n].propertyValue[c].propertyValue):null]}),Object(M.jsx)(ye.a,{classes:{root:d.root},onClick:function(){return i(c)},children:Object(M.jsx)(Jt.a,{})})]},c)})),Object(M.jsx)("div",{className:"right-column-add-button",children:Object(M.jsx)(ye.a,{classes:{root:d.root},onClick:function(){return j({propertyValue:""})},children:Object(M.jsx)(Gt.a,{})})})]})}});case"Number":return Object(M.jsxs)("div",{className:"add-property-right-column",children:[Object(M.jsx)("p",{className:"property-name",children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),Object(M.jsxs)(ue.a,{error:r.propertiesOfProduct&&r.propertiesOfProduct[n]&&a.propertiesOfProduct&&a.propertiesOfProduct[n]?r.propertiesOfProduct[n].propertyValue&&a.propertiesOfProduct[n].propertyValue:null,children:[Object(M.jsx)(ge.a,{type:"number",variant:"outlined",notched:!1,classes:{root:u.root,input:u.input},name:"".concat(l),onChange:t,onBlur:o,value:p[n].propertyValue}),r.propertiesOfProduct&&r.propertiesOfProduct[n]&&a.propertiesOfProduct&&a.propertiesOfProduct[n]?s(r.propertiesOfProduct[n].propertyValue,a.propertiesOfProduct[n].propertyValue):null]})]});case"String":return Object(M.jsxs)("div",{className:"add-property-right-column",children:[Object(M.jsx)("p",{className:"property-name",children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),Object(M.jsxs)(ue.a,{error:r.propertiesOfProduct&&r.propertiesOfProduct[n]&&a.propertiesOfProduct&&a.propertiesOfProduct[n]?r.propertiesOfProduct[n].propertyValue&&a.propertiesOfProduct[n].propertyValue:null,children:[Object(M.jsx)(ge.a,{type:"text",variant:"outlined",notched:!1,multiline:!0,classes:{root:u.root,input:u.input},name:"".concat(l),onChange:t,onBlur:o,value:p[n].propertyValue}),r.propertiesOfProduct&&r.propertiesOfProduct[n]&&a.propertiesOfProduct&&a.propertiesOfProduct[n]?s(r.propertiesOfProduct[n].propertyValue,a.propertiesOfProduct[n].propertyValue):null]})]});default:return null}};return Object(M.jsx)(le.a,{name:"propertiesOfProduct",children:function(e){var r=e.remove,n=e.push;return Object(M.jsxs)("div",{className:"add-property-to-product",children:[Object(M.jsxs)("div",{className:"add-property-head",children:[Object(M.jsx)("h5",{children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0443 \u0441\u0432\u043e\u0439\u0441\u0442\u0432"}),i.length>p.length&&Object(M.jsx)(ye.a,{classes:{root:d.root},onClick:function(){return n({id:"",propertyName:"",propertyValue:"",propertyType:""})},children:Object(M.jsx)(Gt.a,{})})]}),Object(M.jsx)("div",{className:"add-property-body",children:p.map((function(e,n){return Object(M.jsxs)("div",{className:"add-property-body-element",children:[Object(M.jsxs)("div",{className:"add-prop-left-column",children:[Object(M.jsxs)("div",{className:"add-prop-row",children:[Object(M.jsx)("div",{className:"add-prop-left-button-wrap",children:Object(M.jsx)(ye.a,{classes:{root:d.root},onClick:function(){!function(e){if(e){var t=i.find((function(t){return t.propertyName===e}));h.push(t)}}(p[n].propertyName),r(n)},children:Object(M.jsx)(Jt.a,{})})}),Object(M.jsxs)("p",{className:"property-name",children:["\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e ",n+1]})]}),Object(M.jsx)(ue.a,{variant:"outlined",className:l.formControl,classes:{label:l.label},children:Object(M.jsx)(bt.a,{classes:{root:l.root,icon:l.icon},name:"propertiesOfProduct.".concat(n,".propertyName"),value:p[n].propertyName,onChange:function(e){!function(e){t(e);var r=e.target.value,n=h.filter((function(e){return e.propertyName!==r}));O(n)}(e)},onBlur:o,notched:!1,children:p[n].propertyName?m(p[n].propertyName):h.map(f)})})]}),p[n].propertyName&&x(p[n],n)]},n)}))})]})}})}),Zt=Object(we.a)({root:{background:"none","&:hover":{background:"none",boxShadow:"none"},borderRadius:4,color:"#828282",minHeight:32,width:255,boxShadow:"none",border:"1px solid #E0E0E0",padding:"4px 8px"},label:{textTransform:"none",justifyContent:"space-between"}}),er=Object(Ne.a)({typography:{button:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:14,lineHeight:"16px",letterSpacing:"none"}}}),tr=Object(we.a)({root:{maxWidth:"540px",padding:"8px 8px 7px 8px"}}),rr=r(183),nr=(r(319),function(e){Object(W.a)(r,e);var t=Object(z.a)(r);function r(){var e;Object(L.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={thumb:void 0},e.componentWillReceiveProps=function(t){t.file&&e.setState((function(){var r=new FileReader;r.onloadend=function(){e.setState({thumb:r.result})},r.readAsDataURL(t.file)}))},e}return Object(H.a)(r,[{key:"render",value:function(){var e=this.props.file,t=this.state.thumb;return e?Object(M.jsx)("img",{src:t,alt:e.name,className:"thumb img-thumbnail mt-2"}):null}}]),r}(n.Component)),ar=function(e){var t=e.classesInput,r=e.onChange,n=e.onBlur,a=e.values;return Object(M.jsx)(ge.a,{variant:"outlined",notched:!1,placeholder:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u0430",className:"number-input",classes:{root:t.root,input:t.input},name:"price",onChange:r,onBlur:n,value:a.price})};r(325);K.a.initializeApp({apiKey:"AIzaSyBqzyhjRSQnQiJdwh2_P2W-wS6XMhowBuI",authDomain:"shop-app-firebase.firebaseapp.com",databaseURL:"https://shop-app-firebase-default-rtdb.europe-west1.firebasedatabase.app",projectId:"shop-app-firebase",storageBucket:"shop-app-firebase.appspot.com",messagingSenderId:"159676401640",appId:"1:159676401640:web:ef06138de6d79548f6065d"});var or=K.a.storage(),cr=(r(320),Object(J.g)((function(e){var t=e.properties,r=e.productsError,a=e.itemId,o=e.editingProduct,c=e.clearSelectedProduct,i=e.createdProduct,l=e.editedProduct,u=e.productsSpinnerOpen,p=e.productsSpinnerClose,j=Object(n.useState)(null),b=Object(se.a)(j,2),h=b[0],O=b[1],m=Vt(),f=_t(),x=At(),g=Zt(),y=tr(),v=de.e().shape({itemName:de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").trim("\u0411\u0435\u0437 \u043f\u0430\u0440\u043e\u0431\u0435\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),price:de.d().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c").integer("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0446\u0435\u043b\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c").test("firstSymbol","\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u0440\u043e\u0432\u043d\u044f\u0442\u044c\u0441\u044f \u043d\u0443\u043b\u044e",(function(e){return"0"!==(null===e||void 0===e?void 0:e.toString().charAt(0))})).required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),file:a?de.a().of(de.e().shape({file:de.c().test("fileSize","\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 150\u043a\u0431",(function(e){return!!e&&e.size<153600})),type:de.g().oneOf(["image/jpeg","image/png","image/pjpeg"],"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u043c .jpg,.jpeg,.png"),name:de.g()}).nullable().typeError("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b")):de.a().of(de.e().shape({file:de.c().test("fileSize","\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 150\u043a\u0431",(function(e){return!!e&&e.size<153600})).required(),type:de.g().oneOf(["image/jpeg","image/png","image/pjpeg"],"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u043c .jpg,.jpeg,.png").required(),name:de.g().required()}).typeError("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b")).required(),fileUrl:de.g().nullable().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439"),description:de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertiesOfProduct:de.a().of(de.e().shape({id:de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertyName:de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertyType:de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertyValue:de.b((function(e){switch(typeof e){case"number":return de.d().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435");case"string":return de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435");default:return de.a().of(de.e().shape({propertyValue:de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")})).required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}}))}).required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"))}),N=function(e,t){return e&&t&&Object(M.jsx)(je.a,{children:t})},P=Object(le.c)({initialValues:{itemName:o.itemName,price:o.price,file:void 0,fileUrl:o.fileUrl,dateOfChange:"",description:o.description,propertiesOfProduct:a&&o.propertiesOfProduct?o.propertiesOfProduct:[]},validationSchema:v,onSubmit:function(){var e=Object(Y.a)(X.a.mark((function e(t){var n,o,c,s,j,b,O,m,f,x,g;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(),n=t.itemName,o=t.description,c=t.price,s=t.propertiesOfProduct,j=n.trim(),b=o.trim(),O=parseInt(String(c).replace(/ /g,"")),m=s.map((function(e){return"string"===typeof e.propertyValue?Object(d.a)(Object(d.a)({},e),{},{propertyValue:e.propertyValue.trim()}):Array.isArray(e.propertyValue)?Object(d.a)(Object(d.a)({},e),{},{propertyValue:e.propertyValue.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{propertyValue:e.propertyValue.trim()})}))}):e})),!h){e.next=13;break}return f="".concat(h.name,"_").concat(Math.floor(1e6*Math.random())),x=or.ref("images/".concat(f)).put(h),e.next=11,x.on("state_changed",(function(e){}),(function(e){r(e)}),(function(){or.ref("images").child(f).getDownloadURL().then((function(e){var n=Object(d.a)(Object(d.a)({},t),{},{itemName:j,description:b,price:O,propertiesOfProduct:m,file:[],fileUrl:e});a?ne(Object(d.a)(Object(d.a)({},n),{},{dateOfChange:ae()}),a,"products",r,p,l):re(Object(d.a)(Object(d.a)({},n),{},{dateOfChange:ae()}),"products",r,p,i)}))}));case 11:e.next=16;break;case 13:return g=Object(d.a)(Object(d.a)({},t),{},{itemName:j,description:b,price:O,propertiesOfProduct:m,file:[]}),e.next=16,ne(Object(d.a)(Object(d.a)({},g),{},{dateOfChange:ae()}),a,"products",r,p,l);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validateOnBlur:!0}),w=P.values,C=P.errors,E=P.touched,S=P.handleChange,I=P.handleBlur,T=P.isValid,k=P.handleSubmit,R=P.dirty,F=P.setFieldTouched;return Object(M.jsxs)(le.b,{value:P,children:[" ",Object(M.jsx)(be.a,{theme:Pe,children:Object(M.jsx)("div",{className:"add-item",children:Object(M.jsx)("div",{className:"add-item-bordered-wrap",children:Object(M.jsxs)("form",{onSubmit:k,className:"add-item-wrap",children:[Object(M.jsxs)("div",{className:"buttons-wrap",children:[Object(M.jsx)(s.b,{to:"/",className:"button-back",onClick:c,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"}),Object(M.jsx)(he.a,{disableRipple:!0,className:"button-save",classes:{root:x.root,label:x.label},type:"submit",disabled:!T||!R,onClick:k,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(M.jsx)("div",{className:"add-item-head",children:Object(M.jsx)("h5",{children:a?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"})}),Object(M.jsxs)("div",{className:"add-item-body",children:[Object(M.jsxs)(ue.a,{error:E.itemName&&C.itemName,children:[Object(M.jsxs)(pe.a,{classes:{root:m.root},className:"labels",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",Object(M.jsx)("span",{className:"red-star",children:"*"})]}),Object(M.jsx)(ge.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",multiline:!0,classes:{root:f.root,input:f.input},name:"itemName",onChange:S,onBlur:I,value:w.itemName}),N(E.itemName,C.itemName)]}),Object(M.jsxs)(ue.a,{error:E.price&&C.price,children:[Object(M.jsxs)(pe.a,{classes:{root:m.root},className:"labels",children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u0430",Object(M.jsx)("span",{className:"red-star",children:"*"})]}),Object(M.jsx)(rr.a,{classesInput:f,onChange:S,onBlur:I,values:w,customInput:ar,format:function(e){return e.toString().replace(/(\d)(?=(\d{3})+$)/g,"$1 ")}}),N(E.price,C.price)]}),Object(M.jsxs)(ue.a,{error:E.file&&C.file,children:[Object(M.jsxs)(pe.a,{classes:{root:m.root},className:"labels",children:["\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",Object(M.jsx)("span",{className:"red-star",children:"*"})]}),Object(M.jsx)(le.a,{name:"file",children:function(e){return Object(M.jsxs)("div",{children:[Object(M.jsx)("input",{accept:".jpg,.jpeg,.png",className:"upload-input",id:"contained-button-file",multiple:!0,type:"file",name:"file",onBlur:I,onChange:function(t){var r,n=function(e){return e&&{file:e,type:e.type,name:e.name}}(t.target.files.item(0));F("file",!0,!1),(r=t).target.files[0]?O(r.target.files[0]):O(null),w.fileUrl=null,n||(e.remove(0),F("file",!0,!1),w.fileUrl=o.fileUrl),Array.isArray(w.file)?e.replace(0,n):e.push(n)}}),Object(M.jsx)("label",{className:"upload-bnt-label",htmlFor:"contained-button-file",children:Object(M.jsx)(be.a,{theme:er,children:Object(M.jsx)(he.a,{variant:"contained",component:"span",disableRipple:!0,classes:{root:g.root,label:g.label},endIcon:Object(M.jsx)("i",{className:"fa fa-upload","aria-hidden":"true"}),children:void 0===w.file||null===w.file[0]?Object(M.jsx)("div",{className:"upload-btn-name",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}):w.file[0].file.name})})})]})}}),function(e){var t=[];return e&&Array.isArray(e)&&e.forEach((function(e){"string"===typeof e?t.push(e):Object.values(e).forEach((function(e){t.push(e)}))})),t}(C.file).map((function(e){return N(!0,e)}))]}),w.fileUrl?Object(M.jsx)("img",{src:w.fileUrl,alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",className:"thumb img-thumbnail mt-2"}):Object(M.jsx)(nr,{file:void 0===w.file||null===w.file[0]?null:w.file[0].file}),Object(M.jsxs)(ue.a,{error:E.description&&C.description,children:[Object(M.jsxs)(pe.a,{classes:{root:m.root},className:"labels",children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",Object(M.jsx)("span",{className:"red-star",children:"*"})]}),Object(M.jsx)(ge.a,{type:"text",multiline:!0,rows:5,inputProps:{maxLength:1e3},variant:"outlined",notched:!1,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 1000 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",className:"add-item-textarea",classes:{root:y.root},name:"description",onChange:S,onBlur:I,value:w.description}),N(E.description,C.description)]})]}),Object(M.jsx)(Kt,{handleChange:S,touched:E,errors:C,handleBlur:I,values:w,properties:t,getError:N})]})})})})]})}))),ir=function(e,t){for(var r=Object.values(e),n=Object.keys(e),a=0;a<n.length;a++)r[a].id=n[a];var o=r.find((function(e){return e.id===t}));return void 0===o?lr(new Error("Some Error")):{type:b,payload:o}},sr=function(){return{type:m}},lr=function(e){return{type:O,payload:e}},dr=function(e){return function(t){t({type:h}),function(e,t,r){K.a.database().ref().child("products").on("value",(function(n){var a=n.val();e(null===a?t([]):t(a,r))}))}(t,ir,e)}},ur={fetchProperties:It,fetchProducts:xt,productsError:ft,fetchSelectedProduct:dr,clearSelectedProduct:sr,createdProduct:function(){return{type:v,payload:"/"}},editedProduct:function(){return{type:N,payload:"/"}},productsSpinnerOpen:mt,productsSpinnerClose:function(){return{type:p}},resetNotifications:gt},pr=Object(i.b)((function(e){return{properties:e.properties.properties,loadingProps:e.properties.loading,errorProps:e.properties.error,products:e.products.products,loadingProducts:e.products.loading,errorProducts:e.products.error,loadingEditingProduct:e.selectedProduct.loading,errorEditingProduct:e.selectedProduct.error,editingProduct:e.selectedProduct.selectedProduct,logIn:e.isAuth.logIn}}),ur)((function(e){var t=e.fetchProperties,r=e.fetchProducts,a=e.productsError,o=e.properties,c=e.loadingProps,i=e.errorProps,s=e.products,l=e.loadingProducts,d=e.errorProducts,u=e.loadingEditingProduct,p=e.errorEditingProduct,j=e.editingProduct,b=e.fetchSelectedProduct,h=e.clearSelectedProduct,O=e.createdProduct,m=e.editedProduct,f=e.productsSpinnerOpen,x=e.productsSpinnerClose,g=e.match,y=e.logIn,v=e.resetNotifications,N=g.params.id;return Object(n.useEffect)((function(){return v(),r(),t(),N&&b(N),function(){return h()}}),[N]),y?c||l||u&&N?Object(M.jsx)(it,{}):i||d||p&&N?Object(M.jsx)(G,{}):Object(M.jsx)(cr,{properties:o,products:s,productsError:a,itemId:N,editingProduct:j,clearSelectedProduct:h,createdProduct:O,editedProduct:m,productsSpinnerOpen:f,productsSpinnerClose:x}):Object(M.jsx)(J.a,{to:"/login"})})),jr=Object(we.a)((function(e){return{formControl:{margin:0,width:255},root:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:14,lineHeight:"16px",color:"#828282",paddingTop:8.5,paddingBottom:6.5},icon:{color:"#0258FF"}}})),br=(r(321),function(e){var t=e.selectedProduct,r=e.clearSelectedProduct,a=e.logIn,o=Ce(),c=jr(),i=t.itemName,l=t.fileUrl,d=t.description,u=t.price,p=t.propertiesOfProduct,j=function(e,t){if("Dropdown"===e.propertyType)return y("propertiesOfProduct.".concat(t,".propertyValue"),p[t].propertyValue[0].propertyValue,!1)};Object(n.useEffect)((function(){p&&p.map(j)}),[]);var b=de.e().shape({itemName:de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),description:de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),fileUrl:de.g().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),price:de.d().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c").integer("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0446\u0435\u043b\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertiesOfProduct:de.a().of(de.e().shape({id:de.g(),propertyName:de.g(),propertyType:de.g(),propertyValue:de.g()}))}),h=Object(le.c)({initialValues:{itemName:i,description:d,fileUrl:l,price:u,propertiesOfProduct:p||[]},validationSchema:b,onSubmit:function(){var e=Object(Y.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:console.log(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validateOnBlur:!0}),O=h.values,m=h.handleChange,f=h.handleBlur,x=h.isValid,g=h.handleSubmit,y=(h.dirty,h.setFieldValue),v=function(e){var t=e.propertyValue;return Object(M.jsx)(jt.a,{value:t,children:t})};return Object(M.jsx)("div",{className:"product-card",children:Object(M.jsx)("div",{className:"product-card-bordered-wrap",children:Object(M.jsxs)("div",{className:"product-card-wrap",children:[a?Object(M.jsx)("div",{className:"link",children:Object(M.jsx)(s.b,{to:"/",onClick:r,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})}):null,Object(M.jsxs)("form",{onSubmit:g,className:"product-card-wrapper",children:[Object(M.jsxs)("div",{className:"header-items-row",children:[Object(M.jsx)("div",{className:"item-image",children:Object(M.jsx)("img",{src:l,alt:"product"})}),Object(M.jsxs)("div",{className:"item-information",children:[Object(M.jsx)("h3",{children:i}),Object(M.jsx)("p",{children:d})]})]}),Object(M.jsxs)("div",{className:"bottom-items-row",children:[Object(M.jsxs)("div",{className:"item-properties",children:[p&&p.map((function(e,t){var r=e.propertyName,n=e.propertyType,a=e.propertyValue;switch(n){case"Dropdown":return Object(M.jsxs)("div",{children:[Object(M.jsx)("h4",{children:r}),Object(M.jsx)(ue.a,{variant:"outlined",className:c.formControl,children:Object(M.jsx)(bt.a,{classes:{root:c.root,icon:c.icon},name:"propertiesOfProduct.".concat(t,".propertyValue"),onChange:m,onBlur:f,notched:!1,value:O.propertiesOfProduct[t].propertyValue,children:a.map(v)})})]});case"Number":case"String":return Object(M.jsxs)("div",{children:[Object(M.jsx)("h4",{children:r}),Object(M.jsx)("p",{children:a})]});default:return null}})),Object(M.jsx)("h4",{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(M.jsxs)("span",{className:"price",children:[u.toLocaleString("ru-RU"),"$"]})]}),Object(M.jsx)("div",{className:"button-wrap",children:Object(M.jsx)(be.a,{theme:Pe,children:Object(M.jsx)(he.a,{classes:{root:o.root,label:o.label},type:"submit",disabled:!x,onClick:g,children:"\u0411\u0435\u0440\u0443!!!"})})})]})]})]})})})}),hr={fetchSelectedProduct:dr,clearSelectedProduct:sr,resetNotifications:gt},Or=Object(i.b)((function(e){return{loading:e.selectedProduct.loading,error:e.selectedProduct.error,selectedProduct:e.selectedProduct.selectedProduct,logIn:e.isAuth.logIn}}),hr)((function(e){var t=e.match,r=e.selectedProduct,a=e.loading,o=e.error,c=e.fetchSelectedProduct,i=e.clearSelectedProduct,s=e.logIn,l=e.resetNotifications,d=t.params.id;return Object(n.useEffect)((function(){return l(),c(d),function(){return i()}}),[d]),a?Object(M.jsx)(it,{}):o?Object(M.jsx)(G,{}):Object(M.jsx)(br,{selectedProduct:r,clearSelectedProduct:i,logIn:s})})),mr=(r(322),function(){return Object(M.jsx)("div",{className:"app",children:Object(M.jsx)("div",{className:"wrapper",children:Object(M.jsxs)(J.d,{children:[Object(M.jsx)(J.b,{path:"/",component:Nt,exact:!0}),Object(M.jsx)(J.b,{path:"/property-list",component:kt}),Object(M.jsx)(J.b,{path:"/add-property",component:zt}),Object(M.jsx)(J.b,{path:"/item-card/:id",component:Or}),Object(M.jsx)(J.b,{path:"/add-item/:id?",component:pr}),Object(M.jsx)(J.b,{path:"/login",component:Te}),Object(M.jsx)(J.b,{path:"/registration",component:Ve}),Object(M.jsx)(J.b,{render:function(){return Object(M.jsx)(G,{})}}),"       "]})})})}),fr=(r(323),r(392)),xr=r(388),gr=function(e){return Object(M.jsx)(xr.a,Object(d.a)({elevation:6,variant:"filled"},e))},yr=Object(J.g)((function(e){var t=e.history,r=e.showNotification,n=e.path,a=e.deletedItem,o=e.isEditing,c=e.closeNotifications,i=function(e,r){"clickaway"!==r&&(c(),function(e){t.push("".concat(e))}(n))};return o&&!a&&"/"===n?Object(M.jsx)(fr.a,{open:r,autoHideDuration:4e3,onClose:i,children:Object(M.jsx)(gr,{onClose:i,severity:"success",children:"\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d! \u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432."})}):o||a||"/"!==n?o||a||"/property-list"!==n?a?Object(M.jsx)(fr.a,{open:r,autoHideDuration:4e3,onClose:i,children:Object(M.jsxs)(gr,{onClose:i,severity:"success",children:["\u0442\u043e\u0432\u0430\u0440"===a?"\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d":null,"\u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e"===a?"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e":null]})}):null:Object(M.jsx)(fr.a,{open:r,autoHideDuration:4e3,onClose:i,children:Object(M.jsx)(gr,{onClose:i,severity:"success",children:"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e! \u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u0441\u0432\u043e\u0439\u0441\u0442\u0432."})}):Object(M.jsx)(fr.a,{open:r,autoHideDuration:4e3,onClose:i,children:Object(M.jsx)(gr,{onClose:i,severity:"success",children:"\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d! \u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432."})})})),vr={closeNotifications:function(){return{type:E}}},Nr=Object(i.b)((function(e){return{showNotification:e.notifications.showNotification,path:e.notifications.path,isEditing:e.notifications.isEditing,deletedItem:e.notifications.deletedItem}}),vr)((function(e){var t=e.showNotification,r=e.path,n=e.isEditing,a=e.deletedItem,o=e.closeNotifications;return Object(M.jsx)(yr,{showNotification:t,path:r,isEditing:n,deletedItem:a,closeNotifications:o})}));c.a.render(Object(M.jsxs)(i.a,{store:q,children:[" ",Object(M.jsxs)($,{children:[" ",Object(M.jsxs)(s.a,{children:[Object(M.jsx)(Nr,{}),Object(M.jsx)(mr,{})]})]})]}),document.getElementById("root"))}},[[324,1,2]]]);
//# sourceMappingURL=main.9a16e1de.chunk.js.map