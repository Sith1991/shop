(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{148:function(e,t,r){},149:function(e,t,r){},200:function(e,t,r){},205:function(e,t,r){},206:function(e,t,r){},213:function(e,t,r){},214:function(e,t,r){},215:function(e,t,r){},216:function(e,t,r){},315:function(e,t,r){},316:function(e,t,r){},317:function(e,t,r){},318:function(e,t,r){},319:function(e,t,r){},320:function(e,t,r){},321:function(e,t,r){},322:function(e,t,r){},324:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(18),c=r.n(o),i=r(23),s=r(15),l=r(378),d=r(35),u=r(12),p="FETCH_PRODUCTS_SUCCESS",j="FETCH_PRODUCTS_SPINNER_OPEN",b="FETCH_PRODUCTS_SPINNER_CLOSE",h="FETCH_PRODUCTS_FAILURE",O="FETCH_SELECTED_PRODUCT_SUCCESS",f="FETCH_SELECTED_PRODUCT_REQUEST",m="FETCH_SELECTED_PRODUCT_FAILURE",x="CLEAR_SELECTED_PRODUCT",g="FETCH_PROPERTIES_SUCCESS",y="FETCH_PROPERTIES_SPINNER_OPEN",v="FETCH_PROPERTIES_SPINNER_CLOSE",N="FETCH_PROPERTIES_FAILURE",P="NOTIFICATION_CREATED_PRODUCT",w="NOTIFICATION_EDITED_PRODUCT",C="NOTIFICATION_DELETED_PRODUCT",E="NOTIFICATION_CREATED_PROPERTY",S="NOTIFICATION_DELETED_PROPERTY",I="NOTIFICATION_GO_TO_CLOSE",k="NOTIFICATION_STATUS_RESET",T="USER_IS_LOGGED_IN",F="USER_IS_LOGGED_OUT",R="USER_IS_LOGGED_REQUEST",V=r(172),_=Object(d.b)({products:function(e,t){if(void 0===e)return{products:[],loading:!0,error:null};switch(t.type){case j:return Object(u.a)(Object(u.a)({},e),{},{loading:!0,error:null});case b:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:null});case p:return Object(u.a)(Object(u.a)({},e),{},{products:t.payload,loading:!1,error:null});case h:return Object(u.a)(Object(u.a)({},e),{},{products:[],loading:!1,error:t.payload});default:return e}},properties:function(e,t){if(void 0===e)return{properties:[],loading:!0,error:null};switch(t.type){case g:return{properties:t.payload,loading:!1,error:null};case y:return Object(u.a)(Object(u.a)({},e),{},{loading:!0,error:null});case v:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:null});case N:return{properties:[],loading:!1,error:t.payload};default:return e}},selectedProduct:function(e,t){if(void 0===e)return{selectedProduct:{},loading:!0,error:null};switch(t.type){case f:return Object(u.a)(Object(u.a)({},e),{},{loading:!0,error:null});case O:return{selectedProduct:t.payload,loading:!1,error:null};case m:return{selectedProduct:{},loading:!1,error:t.payload};case x:return{selectedProduct:{},loading:!0,error:null};default:return e}},notifications:function(e,t){if(void 0===e)return{showNotification:!1,path:null,isEditing:!1,deletedItem:null};switch(t.type){case P:return{showNotification:!0,path:t.payload,isEditing:!1,deletedItem:null};case w:return{showNotification:!0,path:t.payload,isEditing:!0,deletedItem:null};case C:return{showNotification:!0,path:t.payload,isEditing:!1,deletedItem:"\u0442\u043e\u0432\u0430\u0440"};case E:return{showNotification:!0,path:t.payload,isEditing:!1,deletedItem:null};case S:return{showNotification:!0,path:t.payload,isEditing:!1,deletedItem:"\u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e"};case I:return Object(u.a)(Object(u.a)({},e),{},{showNotification:!1});case k:return{showNotification:!1,path:null,isEditing:!1,deletedItem:null};default:return e}},isAuth:function(e,t){if(void 0===e)return{logIn:!1,email:null,loading:!0};switch(t.type){case T:return{logIn:!0,email:t.payload,loading:!1};case F:return{logIn:!1,email:null,loading:!1};case R:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});default:return e}}}),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.c,D=Object(d.d)(_,B(Object(d.a)(V.a))),A=r(16),U=r(17),q=r(25),L=r(26),H=(r(200),r(1)),M=function(){return Object(H.jsx)("div",{className:"error-indicator",children:Object(H.jsxs)("div",{className:"error-indicator-wrap",children:[Object(H.jsx)("div",{className:"error-indicator-big-text",children:"Error!"}),Object(H.jsx)("div",{className:"error-indicator-big-text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(H.jsx)("div",{className:"error-indicator-low-text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0443\u0441\u0442\u0430\u0440\u0435\u043b\u0430, \u0431\u044b\u043b\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430 \u0438\u043b\u0438 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430 \u0432\u043e\u0432\u0441\u0435"}),Object(H.jsx)("div",{className:"back-to-home",children:Object(H.jsx)(s.b,{to:"/",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})]})})},W=function(e){Object(q.a)(r,e);var t=Object(L.a)(r);function r(){var e;Object(A.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(U.a)(r,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(H.jsx)(M,{}):this.props.children}}]),r}(n.Component),z=r(29),G=r(392),$=r(21),Q=r(379),J=r(380),X=r(381),Y=r(382),K=r(374),Z=r(383),ee=r(184),te=r(113),re=r(391),ne=r(369),ae=r(50),oe=r(372),ce=r(133),ie=r.n(ce),se=r(134),le=r.n(se),de=r(135),ue=r.n(de),pe=r(136),je=r.n(pe),be=function(e){var t=e.array,r=e.rowsPerPage,a=e.page,o=e.handleChangePage,c=e.handleChangeRowsPerPage,i=e.setPage,s=Object(n.useCallback)((function(){return a<=Math.ceil(t.length/r)-1?i(a):i(0)}),[t,r,a,i]);Object(n.useEffect)((function(){s()}),[t,s]);var l=Object(ne.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));return Object(H.jsx)(re.a,{rowsPerPageOptions:[5,10,25,{label:"\u0412\u0441\u0435",value:-1}],count:t.length,rowsPerPage:r,page:a,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:o,onChangeRowsPerPage:c,ActionsComponent:function(e){var t=l(),r=Object(ae.a)(),n=e.count,a=e.page,o=e.rowsPerPage,c=e.onChangePage;return Object(H.jsxs)("div",{className:t.root,children:[Object(H.jsx)(oe.a,{onClick:function(e){c(e,0)},disabled:0===a,"aria-label":"first page",children:"rtl"===r.direction?Object(H.jsx)(ie.a,{}):Object(H.jsx)(le.a,{})}),Object(H.jsx)(oe.a,{onClick:function(e){c(e,a-1)},disabled:0===a,"aria-label":"previous page",children:"rtl"===r.direction?Object(H.jsx)(ue.a,{}):Object(H.jsx)(je.a,{})}),Object(H.jsx)(oe.a,{onClick:function(e){c(e,a+1)},disabled:a>=Math.ceil(n/o)-1,"aria-label":"next page",children:"rtl"===r.direction?Object(H.jsx)(je.a,{}):Object(H.jsx)(ue.a,{})}),Object(H.jsx)(oe.a,{onClick:function(e){c(e,Math.max(0,Math.ceil(n/o)-1))},disabled:a>=Math.ceil(n/o)-1,"aria-label":"last page",children:"rtl"===r.direction?Object(H.jsx)(le.a,{}):Object(H.jsx)(ie.a,{})})]})}})},he=r(395),Oe=r(377),fe=(r(205),function(){var e=Object(ne.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))();return Object(H.jsx)(he.a,{className:e.backdrop,open:!0,children:Object(H.jsx)(Oe.a,{color:"inherit"})})}),me=(r(148),function(e){var t=e.products,r=e.onDeleted,a=e.loading,o=e.productsError,c=e.deletedProduct,i=Object(ee.a)({palette:{primary:{main:"#1976d2"}}},te.ruRU),d=Object(n.useState)(0),u=Object($.a)(d,2),p=u[0],j=u[1],b=Object(n.useState)(5),h=Object($.a)(b,2),O=h[0],f=h[1],m=O-Math.min(O,t.length-p*O);function x(e,t,r){return t[r]<e[r]?-1:t[r]>e[r]?1:0}function g(e,t){return"desc"===e?function(e,r){return x(e,r,t)}:function(e,r){return-x(e,r,t)}}function y(e,t){var r=e.map((function(e,t){return[e,t]}));return r.sort((function(e,r){var n=t(e[0],r[0]);return 0!==n?n:e[1]-r[1]})),r.map((function(e){return e[0]}))}var v=Object(n.useState)("asc"),N=Object($.a)(v,2),P=N[0],w=N[1],C=Object(n.useState)(),E=Object($.a)(C,2),S=E[0],I=E[1];return Object(H.jsx)("div",{className:"product-list-table",children:Object(H.jsx)(l.a,{theme:i,children:Object(H.jsx)(Q.a,{children:Object(H.jsxs)(J.a,{children:[Object(H.jsx)(Ne,{order:P,orderBy:S,onRequestSort:function(e,t){w(S===t&&"asc"===P?"desc":"asc"),I(t)}}),a?Object(H.jsx)(X.a,{children:Object(H.jsx)(Y.a,{children:Object(H.jsx)("th",{children:Object(H.jsx)(fe,{})})})}):Object(H.jsxs)(X.a,{children:[(O>0?y(t,g(P,S)).slice(p*O,p*O+O):y(t,g(P,S))).map((function(e){var t=e.id,n=e.itemName,a=e.price,i=e.dateOfChange,l=a.toLocaleString("ru-RU"),d=function(e){var t=new Date;return t.setTime(e),("0"+t.getDate()).slice(-2)+"."+("0"+(t.getMonth()+1)).slice(-2)+"."+t.getFullYear().toString().substr(-2)}(i);return Object(H.jsxs)(Y.a,{children:[Object(H.jsx)(K.a,{align:"center",className:"link table-body",children:Object(H.jsx)(s.b,{to:"/item-card/".concat(t),children:Object(H.jsx)("div",{className:"table-value",children:n})})}),Object(H.jsx)(K.a,{className:"table-body",children:Object(H.jsxs)("div",{className:"table-value",children:[l," $"]})}),Object(H.jsx)(K.a,{className:"table-body",children:Object(H.jsx)("div",{className:"table-value",children:d})}),Object(H.jsx)(K.a,{children:Object(H.jsxs)("div",{className:"links",children:[Object(H.jsx)(s.b,{to:"/add-item/".concat(t),className:"link",children:"\u0420\u0435\u0434."}),Object(H.jsx)(s.b,{to:"#",onClick:function(){return r(t,"products",o,c)},className:"link",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})})]},t)})),m>0&&Object(H.jsx)(Y.a,{style:{height:47*m},children:Object(H.jsx)(K.a,{colSpan:6})})]}),Object(H.jsx)(Z.a,{children:Object(H.jsx)(Y.a,{children:Object(H.jsx)(be,{array:t,rowsPerPage:O,page:p,handleChangePage:function(e,t){j(t)},handleChangeRowsPerPage:function(e){f(parseInt(e.target.value,10)),j(0)},setPage:j})})})]})})})})}),xe=r(384),ge=r(396),ye=r(114),ve=r.n(ye),Ne=function(e){var t=e.order,r=e.orderBy,n=e.onRequestSort,a=Object(ne.a)((function(){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}))();return Object(H.jsx)(xe.a,{children:Object(H.jsxs)(Y.a,{children:[[{id:"itemName",label:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0442\u043e\u0432\u0430\u0440\u043e\u0432"},{id:"price",label:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"},{id:"dateOfChange",label:"\u0414\u0430\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}].map((function(e){return Object(H.jsx)(K.a,{sortDirection:r===e.id&&t,id:"".concat(e.id),align:"itemName"===e.id?"center":"left",children:Object(H.jsxs)(ge.a,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(o=e.id,function(e){n(e,o)}),IconComponent:ve.a,children:[Object(H.jsx)("div",{className:"table-header",children:e.label}),r===e.id?Object(H.jsx)("span",{className:a.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var o})),Object(H.jsx)(K.a,{id:"administration",children:Object(H.jsx)("div",{className:"table-header",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})},"administration")]})})},Pe=r(177),we=r.n(Pe),Ce=r(385),Ee=r(386),Se=r(329),Ie=r(394),ke=r(328),Te=r(333),Fe=(r(206),function(e){Object(q.a)(r,e);var t=Object(L.a)(r);function r(){var e;Object(A.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onSearchChange=function(t){e.props.termSetup(t.target.value)},e.onColumnChange=function(t){e.props.columnChange(t.target.value)},e}return Object(U.a)(r,[{key:"render",value:function(){return Object(H.jsxs)("div",{className:"search-panel",children:[Object(H.jsx)(Ce.a,{className:"input",size:"small",label:"\u041f\u043e\u0438\u0441\u043a",type:"search",variant:"outlined",onChange:this.onSearchChange,InputProps:{startAdornment:Object(H.jsx)(Ee.a,{position:"start",children:Object(H.jsx)(we.a,{})})}}),Object(H.jsxs)(ke.a,{className:"select",variant:"outlined",size:"small",children:[Object(H.jsx)(Se.a,{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(H.jsxs)(Te.a,{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",defaultValue:"itemName",onChange:this.onColumnChange,children:[Object(H.jsx)(Ie.a,{value:"itemName",children:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}),Object(H.jsx)(Ie.a,{value:"price",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(H.jsx)(Ie.a,{value:"dateOfChange",children:"\u0414\u0430\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})]})]})}}]),r}(n.Component)),Re=r(32),Ve=r.n(Re),_e=r(44),Be=r(40);r(325),r(208),r(211);Be.a.initializeApp({apiKey:"AIzaSyBqzyhjRSQnQiJdwh2_P2W-wS6XMhowBuI",authDomain:"shop-app-firebase.firebaseapp.com",databaseURL:"https://shop-app-firebase-default-rtdb.europe-west1.firebasedatabase.app",projectId:"shop-app-firebase",storageBucket:"shop-app-firebase.appspot.com",messagingSenderId:"159676401640",appId:"1:159676401640:web:ef06138de6d79548f6065d"});var De=Be.a.storage(),Ae=function(){var e=Object(_e.a)(Ve.a.mark((function e(t,r,n){var a,o;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Be.a.database(),o=a.ref().child("".concat(r)),e.next=4,o.on("value",(function(e){var r=e.val();t(n(null===r?[]:r))}));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(_e.a)(Ve.a.mark((function e(t,r,n,a){var o,c,i;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Be.a.database(),c=o.ref("".concat(r)),i=c.child(t),e.next=5,i.set(null,(function(e){e?n(e):a()}));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),qe=function(){var e=Object(_e.a)(Ve.a.mark((function e(t,r,n){var a,o;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Be.a.database(),o=a.ref().child("products"),e.next=4,o.on("value",(function(e){var a=e.val();t(null===a?r([]):r(a,n))}));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Le=function(){Be.a.auth().signOut().then((function(){})).catch((function(){}))},He=function(){var e=Object(_e.a)(Ve.a.mark((function e(t,r,n,a,o){var c,i,s;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Be.a.database(),i=c.ref("".concat(r)),s=i.push(),e.next=5,s.set(t,(function(e){e?n(e):(a(),o())}));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a,o){return e.apply(this,arguments)}}(),Me=function(){var e=Object(_e.a)(Ve.a.mark((function e(t,r,n,a,o,c){var i,s,l;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Be.a.database(),s=i.ref("".concat(n)),l=s.child(r),e.next=5,l.set(t,(function(e){e?a(e):(o(),c())}));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a,o,c){return e.apply(this,arguments)}}(),We=function(){return Be.a.database.ServerValue.TIMESTAMP},ze=function(){return function(e){e(Qe()),function(e,t,r){Be.a.auth().onAuthStateChanged((function(n){e(n?t(n.email):r())}))}(e,Ge,$e)}},Ge=function(e){return{type:T,payload:e}},$e=function(){return{type:F}},Qe=function(){return{type:R}},Je=function(){return{type:k}},Xe=function(e,t){for(var r=Object.values(e),n=Object.keys(e),a=0;a<n.length;a++)r[a].id=n[a];var o=r.find((function(e){return e.id===t}));return void 0===o?Ke(new Error("Some Error")):{type:O,payload:o}},Ye=function(){return{type:x}},Ke=function(e){return{type:m,payload:e}},Ze=function(e){return function(t){t({type:f}),qe(t,Xe,e)}},et=function(e){for(var t=Object.values(e),r=Object.keys(e),n=0;n<r.length;n++)t[n].id=r[n];return{type:p,payload:t}},tt=function(){return{type:j}},rt=function(e){return{type:h,payload:e}},nt=function(){return function(e){e(tt()),Ae(e,"products",et)}},at=function(e){for(var t=Object.values(e),r=Object.keys(e),n=0;n<r.length;n++)t[n].id=r[n];return{type:g,payload:t}},ot=function(){return{type:y}},ct=function(e){return{type:N,payload:e}},it=function(){return function(e){e(ot()),Ae(e,"properties",at)}},st=function(e){return{logIn:e.isAuth.logIn,loading:e.isAuth.loading}},lt=function(e){var t=function(t){Object(q.a)(n,t);var r=Object(L.a)(n);function n(){return Object(A.a)(this,n),r.apply(this,arguments)}return Object(U.a)(n,[{key:"render",value:function(){return this.props.loading?Object(H.jsx)(fe,{}):this.props.logIn?Object(H.jsx)(e,Object(u.a)({},this.props)):Object(H.jsx)(z.a,{to:"/login"})}}]),n}(a.a.Component);return Object(i.b)(st)(t)},dt=(r(213),function(e){Object(q.a)(r,e);var t=Object(L.a)(r);function r(){var e;Object(A.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={term:"",columnName:"itemName"},e.columnChange=function(t){e.setState({columnName:t})},e.termSetup=function(t){e.setState({term:t})},e.searchItems=function(t,r){return 0===r.length?t:t.filter((function(t){return t[e.state.columnName].toString().toLowerCase().indexOf(r.toLowerCase())>-1}))},e}return Object(U.a)(r,[{key:"componentDidMount",value:function(){this.props.resetNotifications(),this.props.fetchProducts()}},{key:"render",value:function(){var e=this.props,t=e.products,r=e.loading,n=e.error,a=e.productsError,o=e.deletedProduct,c=this.state.term,i=this.searchItems(t,c);return Object(H.jsx)("div",{className:"product-list-wrap",children:Object(H.jsxs)("div",{className:"product-list",children:[Object(H.jsx)("div",{className:"button-wrap",children:Object(H.jsx)(s.b,{to:"/add-item",className:"add-item-link",children:Object(H.jsx)(G.a,{className:"add-button",variant:"warning",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"})})}),n?Object(H.jsx)(M,{}):Object(H.jsxs)("div",{children:[Object(H.jsx)(Fe,{termSetup:this.termSetup,columnChange:this.columnChange}),Object(H.jsx)(me,{products:i,onDeleted:Ue,loading:r,productsError:a,deletedProduct:o})]})]})})}}]),r}(n.Component)),ut={fetchProducts:nt,productsError:rt,deletedProduct:function(){return{type:C,payload:"/"}},resetNotifications:Je},pt=Object(d.c)(lt,Object(i.b)((function(e){return{products:e.products.products,loading:e.products.loading,error:e.products.error}}),ut))(dt),jt=(r(149),function(e){var t=e.properties,r=e.onDeleted,a=e.propertiesError,o=e.deletedProperty,c=Object(ee.a)({palette:{primary:{main:"#1976d2"}}},te.ruRU),i=Object(n.useState)(0),d=Object($.a)(i,2),u=d[0],p=d[1],j=Object(n.useState)(5),b=Object($.a)(j,2),h=b[0],O=b[1],f=h-Math.min(h,t.length-u*h);function m(e,t,r){return t[r]<e[r]?-1:t[r]>e[r]?1:0}function x(e,t){return"desc"===e?function(e,r){return m(e,r,t)}:function(e,r){return-m(e,r,t)}}function g(e,t){var r=e.map((function(e,t){return[e,t]}));return r.sort((function(e,r){var n=t(e[0],r[0]);return 0!==n?n:e[1]-r[1]})),r.map((function(e){return e[0]}))}var y=Object(n.useState)("asc"),v=Object($.a)(y,2),N=v[0],P=v[1],w=Object(n.useState)(),C=Object($.a)(w,2),E=C[0],S=C[1];return Object(H.jsx)("div",{className:"property-list-table",children:Object(H.jsx)(l.a,{theme:c,children:Object(H.jsx)(Q.a,{children:Object(H.jsxs)(J.a,{children:[Object(H.jsx)(bt,{order:N,orderBy:E,onRequestSort:function(e,t){P(E===t&&"asc"===N?"desc":"asc"),S(t)}}),Object(H.jsxs)(X.a,{children:[(h>0?g(t,x(N,E)).slice(u*h,u*h+h):g(t,x(N,E))).map((function(e){var t=e.id,n=e.propertyName,c=e.propertyType;return Object(H.jsxs)(Y.a,{children:[Object(H.jsx)(K.a,{children:Object(H.jsx)("div",{className:"property-name table-body",children:n})}),Object(H.jsx)(K.a,{children:Object(H.jsx)("div",{className:"property-type table-body",children:c})}),Object(H.jsx)(K.a,{align:"right",children:Object(H.jsx)(s.b,{to:"#",onClick:function(){return r(t,"properties",a,o)},className:"link",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]},t)})),f>0&&Object(H.jsx)(Y.a,{style:{height:47*f},children:Object(H.jsx)(K.a,{colSpan:6})})]}),Object(H.jsx)(Z.a,{children:Object(H.jsx)(Y.a,{children:Object(H.jsx)(be,{array:t,rowsPerPage:h,page:u,handleChangePage:function(e,t){p(t)},handleChangeRowsPerPage:function(e){O(parseInt(e.target.value,10)),p(0)},setPage:p})})})]})})})})}),bt=function(e){var t=e.order,r=e.orderBy,n=e.onRequestSort,a=Object(ne.a)((function(){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}))();return Object(H.jsx)(xe.a,{children:Object(H.jsxs)(Y.a,{children:[[{id:"propertyName",label:"\u041f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u043f\u0440\u043e\u043f\u0435\u0440\u0442\u0438"},{id:"propertyType",label:"\u0422\u0438\u043f"}].map((function(e){return Object(H.jsx)(K.a,{sortDirection:r===e.id&&t,id:"".concat(e.id),align:"propertyName"===e.id?"center":"left",children:Object(H.jsxs)(ge.a,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(o=e.id,function(e){n(e,o)}),IconComponent:ve.a,children:[Object(H.jsx)("div",{className:"table-header",children:e.label}),r===e.id?Object(H.jsx)("span",{className:a.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var o})),Object(H.jsx)(K.a,{id:"administration",children:Object(H.jsx)("div",{className:"table-header",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})},"administration")]})})},ht=(r(214),{fetchProperties:it,propertiesError:ct,deletedProperty:function(){return{type:S,payload:"/property-list"}},resetNotifications:Je}),Ot=Object(d.c)(lt,Object(i.b)((function(e){return{properties:e.properties.properties,loading:e.properties.loading,error:e.properties.error}}),ht))((function(e){var t=e.fetchProperties,r=e.propertiesError,a=e.deletedProperty,o=e.properties,c=e.loading,i=e.error,l=e.resetNotifications;return Object(n.useEffect)((function(){t(),l()}),[t,l]),c?Object(H.jsx)(fe,{}):i?Object(H.jsx)(M,{}):Object(H.jsx)("div",{className:"property-list-wrap",children:Object(H.jsxs)("div",{className:"property-list",children:[Object(H.jsx)("div",{className:"button-wrap",children:Object(H.jsx)(s.b,{to:"/add-property",className:"add-property-link",children:Object(H.jsx)(G.a,{className:"add-prop-button",variant:"warning",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u043f\u0435\u0440\u0442\u0438"})})}),Object(H.jsx)(jt,{properties:o,onDeleted:Ue,propertiesError:r,deletedProperty:a})]})})})),ft=(r(215),function(e){var t=e.email,r=e.history.location.pathname;return Object(H.jsxs)("div",{className:"main-wrap",children:[Object(H.jsxs)("div",{className:"header",children:[Object(H.jsxs)("div",{className:"button-group",children:[Object(H.jsxs)("div",{className:"wrap ".concat("/"===r?"colored":null),children:[Object(H.jsx)("div",{className:"background"}),Object(H.jsx)(s.b,{to:"/",className:"header-links",children:"\u041b\u0438\u0441\u0442\u0438\u043d\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})]}),Object(H.jsxs)("div",{className:"wrap ".concat("/property-list"===r?"colored":null),children:[Object(H.jsx)("div",{className:"background"}),Object(H.jsx)(s.b,{to:"/property-list",className:"header-links",children:"\u041b\u0438\u0441\u0442\u0438\u043d\u0433 \u043f\u0440\u043e\u043f\u0435\u0440\u0442\u0438"})]})]}),Object(H.jsxs)("div",{className:"button-group",children:[Object(H.jsxs)("div",{className:"user-name",children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c (E-mail): ",t]}),Object(H.jsx)("div",{className:"button-log-out-wrap",children:Object(H.jsx)(G.a,{className:"button-log-out",variant:"warning",onClick:Le,children:"\u0412\u044b\u0439\u0442\u0438"})})]})]}),Object(H.jsx)("div",{className:"content",children:Object(H.jsxs)(z.d,{children:[Object(H.jsx)(z.b,{path:"/",component:pt,exact:!0}),Object(H.jsx)(z.b,{path:"/property-list",component:Ot,exact:!0})]})})]})}),mt=Object(d.c)(lt,Object(i.b)((function(e){return{email:e.isAuth.email}}),null))((function(e){var t=e.email,r=e.history;return Object(H.jsx)(ft,{email:t,history:r})})),xt=r(53),gt=r(330),yt=r(331),vt=r(387),Nt=r(91),Pt=r.n(Nt),wt=r(92),Ct=r.n(wt),Et=r(334),St=(r(216),function(e){var t=e.message;if(void 0===t)return null;switch(t){case"There is no user record corresponding to this identifier. The user may have been deleted.":return Object(H.jsx)("div",{className:"text-error",children:"\u0414\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"});case"The password is invalid or the user does not have a password.":return Object(H.jsx)("div",{className:"text-error",children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"});case"The email address is already in use by another account.":return Object(H.jsx)("div",{className:"text-error",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0434\u0430\u043d\u043d\u044b\u043c e-mail \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"});default:return Object(H.jsx)("div",{className:"text-error",children:t})}}),It=r(9),kt=It.f().shape({email:It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").min(4,"\u041b\u043e\u0433\u0438\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 4 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(20,"\u041b\u043e\u0433\u0438\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u043b\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").min(8,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),Tt=Object(ne.a)({root:{maxWidth:"255px",padding:"8px 8px 7px 8px"},input:{padding:"0",height:"100%"}}),Ft=Object(ne.a)({root:{fontFamily:"Roboto, serif !important",fontStyle:"normal !important",fontWeight:"normal !important",fontSize:"14px !important",lineHeight:"16px !important",color:"#000000 !important",opacity:.8,letterSpacing:"0 !important"}}),Rt=Object(ne.a)((function(e){return{formControl:{margin:0,width:255},root:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:14,lineHeight:"16px",color:"#000000",paddingTop:8.5,paddingBottom:6.5,opacity:.8},icon:{color:"#0258FF"}}})),Vt=Object(ne.a)({root:{maxWidth:"540px",padding:"8px 8px 7px 8px"}}),_t=Object(ne.a)({root:{width:"255px",padding:"8px 8px 7px 8px",marginRight:"22px","@media (max-width:576px)":{marginRight:0}},input:{padding:"0"}}),Bt=Object(ne.a)({root:{maxWidth:"120px",marginLeft:0},label:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:14,lineHeight:"16px",color:"#000000",opacity:.8}}),Dt=Object(ne.a)({root:{color:"#0258FF",padding:"8px"}}),At=Object(ne.a)({root:{background:"#ffb800","&:hover":{background:"#d7a002"},borderRadius:4,border:0,color:"#FFFFFF",height:32,width:160},label:{textTransform:"none"}}),Ut=Object(ne.a)({root:{background:"#ffb800","&:hover":{background:"#d7a002"},borderRadius:4,border:0,color:"#FFFFFF",height:32,width:200},label:{textTransform:"none"}}),qt=Object(ne.a)({root:{background:"#34C15C","&:hover":{background:"#229641"},borderRadius:4,border:0,color:"#FFFFFF",height:32,width:160,boxShadow:"5px 10px 10px rgba(0, 0, 0, 0.05)"},label:{textTransform:"none"}}),Lt=Object(ne.a)({root:{background:"none","&:hover":{background:"none",boxShadow:"none"},borderRadius:4,color:"#828282",minHeight:32,width:255,boxShadow:"none",border:"1px solid #E0E0E0",padding:"4px 8px"},label:{textTransform:"none",justifyContent:"space-between"}}),Ht=Object(ne.a)((function(e){return{formControl:{margin:0,width:255},root:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:14,lineHeight:"16px",color:"#000000",paddingTop:8.5,paddingBottom:6.5},icon:{color:"#0258FF"}}})),Mt=Object(ee.a)({typography:{button:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:16,lineHeight:"19px"}}}),Wt=Object(ee.a)({typography:{button:{fontFamily:"Roboto, serif",fontStyle:"normal",fontWeight:"normal",fontSize:14,lineHeight:"16px",letterSpacing:"none"}}}),zt=(r(315),Object(z.g)((function(e){var t=e.history,r=At(),a=Object(n.useState)(null),o=Object($.a)(a,2),c=o[0],i=o[1],l=Object(xt.a)({initialValues:{email:"",password:"",showPassword:!1},validationSchema:kt,onSubmit:function(e){(function(e){var t=e.email,r=e.password;return Be.a.auth().signInWithEmailAndPassword(t,r)})(e).then((function(){i(null),t.push("/")})).catch((function(e){console.log(e.message),i(e.message)}))},validateOnBlur:!0}),d=l.values,u=l.errors,p=l.touched,j=l.handleChange,b=l.handleBlur,h=l.isValid,O=l.handleSubmit,f=l.dirty,m=l.setFieldValue;return Object(H.jsx)("div",{className:"login",children:Object(H.jsxs)("form",{onSubmit:O,className:"form-wrap",children:[Object(H.jsx)("h4",{children:"\u0412\u0445\u043e\u0434"}),c?Object(H.jsx)(St,{message:c}):null,Object(H.jsxs)("div",{className:"login-wrap",children:[Object(H.jsxs)(ke.a,{fullWidth:!0,error:Boolean(p.email&&u.email),children:[Object(H.jsx)(gt.a,{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(H.jsx)(Et.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",name:"email",onChange:j,onBlur:b,value:d.email}),p.email&&u.email&&Object(H.jsx)(yt.a,{children:u.email})]}),Object(H.jsxs)(ke.a,{fullWidth:!0,error:Boolean(p.password&&u.password),children:[Object(H.jsx)(gt.a,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(H.jsx)(Et.a,{notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:d.showPassword?"text":"password",name:"password",onChange:j,onBlur:b,value:d.password,endAdornment:Object(H.jsx)(Ee.a,{position:"end",children:Object(H.jsx)(oe.a,{name:"showPassword",onClick:function(){return m("showPassword",!d.showPassword)},edge:"end",children:d.showPassword?Object(H.jsx)(Pt.a,{}):Object(H.jsx)(Ct.a,{})})})}),p.password&&u.password&&Object(H.jsx)(yt.a,{children:u.password})]})]}),Object(H.jsx)("div",{className:"login-button",children:Object(H.jsx)(vt.a,{classes:{root:r.root,label:r.label},type:"submit",disabled:!h||!f,onClick:O,children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(H.jsx)("div",{className:"link",children:Object(H.jsx)(s.b,{to:"/registration",children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})})}))),Gt={userIsAuth:ze},$t=Object(i.b)((function(e){return{logIn:e.isAuth.logIn,loading:e.isAuth.loading}}),Gt)((function(e){var t=e.logIn,r=e.userIsAuth,a=e.loading;return Object(n.useEffect)((function(){r()}),[r]),a?Object(H.jsx)(fe,{}):t?Object(H.jsx)(z.a,{to:"/"}):Object(H.jsx)(zt,{})})),Qt=It.f().shape({name:It.h().min(4,"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 4 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(20,"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),secondName:It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:It.h().min(8,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),confirmPassword:It.h().oneOf([It.g("password")],"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),email:It.h().email("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 email").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),Jt=(r(316),Object(z.g)((function(e){var t=e.history,r=Ut(),a=Object(n.useState)(null),o=Object($.a)(a,2),c=o[0],i=o[1],l=Object(xt.a)({initialValues:{name:"",secondName:"",password:"",confirmPassword:"",email:"",showPassword:!1,showConfirmPassword:!1},validationSchema:Qt,onSubmit:function(e){(function(e){var t=e.email,r=e.password;return Be.a.auth().createUserWithEmailAndPassword(t,r)})(e).then((function(){i(null),t.push("/")})).catch((function(e){console.log(e.message),i(e.message)}))},validateOnBlur:!0}),d=l.values,u=l.errors,p=l.touched,j=l.handleChange,b=l.handleBlur,h=l.isValid,O=l.handleSubmit,f=l.dirty,m=l.setFieldValue;return Object(H.jsx)("div",{className:"registration",children:Object(H.jsxs)("form",{onSubmit:O,className:"form-wrap",children:[Object(H.jsx)("h4",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),c?Object(H.jsx)(St,{message:c}):null,Object(H.jsxs)("div",{className:"registration-wrap",children:[Object(H.jsxs)(ke.a,{fullWidth:!0,error:Boolean(p.name&&u.name),children:[Object(H.jsx)(gt.a,{children:"\u0418\u043c\u044f"}),Object(H.jsx)(Et.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",name:"name",onChange:j,onBlur:b,value:d.name}),p.name&&u.name&&Object(H.jsx)(yt.a,{children:u.name})]}),Object(H.jsxs)(ke.a,{fullWidth:!0,error:Boolean(p.secondName&&u.secondName),children:[Object(H.jsx)(gt.a,{children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),Object(H.jsx)(Et.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",name:"secondName",onChange:j,onBlur:b,value:d.secondName}),p.secondName&&u.secondName&&Object(H.jsx)(yt.a,{children:u.secondName})]}),Object(H.jsxs)(ke.a,{fullWidth:!0,error:Boolean(p.email&&u.email),children:[Object(H.jsx)(gt.a,{children:"E-mail"}),Object(H.jsx)(Et.a,{type:"email",variant:"outlined",notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 e-mail",name:"email",onChange:j,onBlur:b,value:d.email}),p.email&&u.email&&Object(H.jsx)(yt.a,{children:u.email})]}),Object(H.jsxs)(ke.a,{fullWidth:!0,error:Boolean(p.password&&u.password),children:[Object(H.jsx)(gt.a,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(H.jsx)(Et.a,{notched:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:d.showPassword?"text":"password",name:"password",onChange:j,onBlur:b,value:d.password,endAdornment:Object(H.jsx)(Ee.a,{position:"end",children:Object(H.jsx)(oe.a,{name:"showPassword",onClick:function(){return m("showPassword",!d.showPassword)},edge:"end",children:d.showPassword?Object(H.jsx)(Pt.a,{}):Object(H.jsx)(Ct.a,{})})})}),p.password&&u.password&&Object(H.jsx)(yt.a,{children:u.password})]}),Object(H.jsxs)(ke.a,{fullWidth:!0,error:Boolean(p.confirmPassword&&u.confirmPassword),children:[Object(H.jsx)(gt.a,{children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(H.jsx)(Et.a,{notched:!1,placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:d.showConfirmPassword?"text":"password",name:"confirmPassword",onChange:j,onBlur:b,value:d.confirmPassword,endAdornment:Object(H.jsx)(Ee.a,{position:"end",children:Object(H.jsx)(oe.a,{name:"showConfirmPassword",onClick:function(){return m("showConfirmPassword",!d.showConfirmPassword)},edge:"end",children:d.showConfirmPassword?Object(H.jsx)(Pt.a,{}):Object(H.jsx)(Ct.a,{})})})}),p.confirmPassword&&u.confirmPassword&&Object(H.jsx)(yt.a,{children:u.confirmPassword})]})]}),Object(H.jsx)("div",{className:"registration-button",children:Object(H.jsx)(vt.a,{classes:{root:r.root,label:r.label},type:"submit",disabled:!h||!f,onClick:O,children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),Object(H.jsx)("div",{className:"link",children:Object(H.jsx)(s.b,{to:"/login",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})})]})})}))),Xt={userIsAuth:ze},Yt=Object(i.b)((function(e){return{logIn:e.isAuth.logIn}}),Xt)((function(e){var t=e.logIn,r=e.userIsAuth;return Object(n.useEffect)((function(){r()}),[r]),t?Object(H.jsx)(z.a,{to:"/"}):Object(H.jsx)(Jt,{})})),Kt=r(397),Zt=r(388),er=r(390),tr=r(5),rr=r.p+"static/media/Ellipse.f958a917.svg",nr=function(e){var t=Object(ne.a)({root:{padding:"0 8px 0 0","&:hover":{backgroundColor:"transparent"}},icon:{borderRadius:"50%",width:24,height:24,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#FFFFFF",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))","$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#FFFFFF"}},checkedIcon:{backgroundImage:"url(".concat(rr,")"),backgroundRepeat:"no-repeat",margin:"0px auto",backgroundPosition:"center center"}})();return Object(H.jsx)(er.a,Object(u.a)({className:t.root,disableRipple:!0,size:"small",color:"default",checkedIcon:Object(H.jsx)("span",{className:Object(tr.a)(t.icon,t.checkedIcon)}),icon:Object(H.jsx)("span",{className:t.icon})},e))},ar=function(e){return It.f().shape({propertyName:It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").test("sameName","\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",(function(t){return!t||function(e,t){return!e.find((function(e){return(null===e||void 0===e?void 0:e.propertyName.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))}(e,t)})).trim("\u0411\u0435\u0437 \u043f\u0430\u0440\u043e\u0431\u0435\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertyType:It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")})},or=(r(317),function(e){var t=e.properties,r=e.propertiesError,a=e.createdProperty,o=e.propertiesSpinnerOpen,c=e.propertiesSpinnerClose,i=Ft(),l=Tt(),d=qt(),p=Bt(),j=Object(n.useCallback)((function(e,t){return e&&t&&Object(H.jsx)(yt.a,{children:t})}),[]),b=Object(xt.a)({initialValues:{propertyName:"",propertyType:"Dropdown"},validationSchema:ar(t),onSubmit:function(){var e=Object(_e.a)(Ve.a.mark((function e(t){var n,i,s;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(),n=t.propertyName,i=n.trim(),s=Object(u.a)(Object(u.a)({},t),{},{propertyName:i}),e.next=6,He(s,"properties",r,c,a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validateOnBlur:!0}),h=b.values,O=b.errors,f=b.touched,m=b.handleChange,x=b.handleBlur,g=b.isValid,y=b.handleSubmit,v=b.dirty;return Object(H.jsx)("div",{className:"add-property",children:Object(H.jsx)("div",{className:"add-property-bordered-wrap",children:Object(H.jsxs)("form",{onSubmit:y,className:"add-property-wrap",children:[Object(H.jsxs)("div",{className:"buttons-wrap",children:[Object(H.jsx)(s.b,{to:"/property-list",className:"button-back",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"}),Object(H.jsx)(vt.a,{disableRipple:!0,className:"button-save",classes:{root:d.root,label:d.label},type:"submit",disabled:!g||!v,onClick:y,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(H.jsx)("div",{className:"add-prop-head",children:Object(H.jsx)("h5",{children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430"})}),Object(H.jsxs)("div",{className:"add-prop-body",children:[Object(H.jsxs)(ke.a,{error:Boolean(f.propertyName&&O.propertyName),children:[Object(H.jsxs)(gt.a,{classes:{root:i.root},className:"labels",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",Object(H.jsx)("span",{className:"red-star",children:"*"})]}),Object(H.jsx)(Et.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",multiline:!0,classes:{root:l.root},name:"propertyName",onChange:m,onBlur:x,value:h.propertyName}),j(f.propertyName,O.propertyName)]}),Object(H.jsxs)(ke.a,{error:f.propertyType&&O.propertyType,children:[Object(H.jsxs)(gt.a,{classes:{root:i.root},focused:!1,className:"labels",children:["\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0438\u043f \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",Object(H.jsx)("span",{className:"red-star",children:"*"})]}),Object(H.jsxs)(Kt.a,{name:"propertyType",value:h.propertyType,onChange:m,onBlur:x,children:[Object(H.jsx)(Zt.a,{value:"Dropdown",control:Object(H.jsx)(nr,{}),classes:{root:p.root,label:p.label},label:"Dropdown"}),Object(H.jsx)(Zt.a,{value:"Number",classes:{root:p.root,label:p.label},control:Object(H.jsx)(nr,{}),label:"Number"}),Object(H.jsx)(Zt.a,{value:"String",classes:{root:p.root,label:p.label},control:Object(H.jsx)(nr,{}),label:"String"})]}),j(f.propertyType,O.propertyType)]})]})]})})})}),cr={fetchProperties:it,propertiesError:ct,createdProperty:function(){return{type:E,payload:"/property-list"}},propertiesSpinnerOpen:ot,propertiesSpinnerClose:function(){return{type:v}},resetNotifications:Je},ir=Object(d.c)(lt,Object(i.b)((function(e){return{properties:e.properties.properties,loading:e.properties.loading,error:e.properties.error}}),cr))((function(e){var t=e.fetchProperties,r=e.propertiesError,a=e.properties,o=e.loading,c=e.error,i=e.createdProperty,s=e.propertiesSpinnerOpen,l=e.propertiesSpinnerClose,d=e.resetNotifications;return Object(n.useEffect)((function(){d(),t()}),[d,t]),o?Object(H.jsx)(fe,{}):c?Object(H.jsx)(M,{}):Object(H.jsx)(or,{properties:a,propertiesError:r,createdProperty:i,propertiesSpinnerOpen:s,propertiesSpinnerClose:l})})),sr=r(183),lr=(r(318),function(e){var t=e.file,r=Object(n.useState)(void 0),a=Object($.a)(r,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){t&&c((function(){var e=new FileReader;e.onloadend=function(){c(e.result)},e.readAsDataURL(t)}))}),[t]),t?Object(H.jsx)("img",{src:o,alt:t.name,className:"thumb"}):null}),dr=function(e){var t=e.classesInput,r=e.onChange,n=e.onBlur,a=e.values;return Object(H.jsx)(Et.a,{variant:"outlined",notched:!1,placeholder:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u0430",className:"number-input",classes:{root:t.root,input:t.input},name:"price",onChange:r,onBlur:n,value:a.toLocaleString("ru-RU")})},ur=r(37),pr=r(140),jr=r.n(pr),br=r(139),hr=r.n(br),Or=(r(319),Object(n.memo)((function(e){var t=e.handleChange,r=e.touched,a=e.errors,o=e.handleBlur,c=e.properties,i=e.getError,s=e.setFieldValue,l=e.setFieldTouched,d=e.propertiesOfProduct,u=e.handleTrim,p=Rt(),j=Dt(),b=_t(),h=Object(n.useState)(c),O=Object($.a)(h,2),f=O[0],m=O[1],x=Object(n.useCallback)((function(e,t){var r=e.filter((function(e){return!t.some((function(t){return e.propertyName===t.propertyName}))}));m(r)}),[]);Object(n.useEffect)((function(){x(c,d)}),[x,c,d]);var g=Object(n.useCallback)((function(e,r){t(e),s("propertiesOfProduct.".concat(r,".propertyValue"),"",!1),l("propertiesOfProduct.".concat(r,".propertyValue"),!1,!1);var n=e.target.value,a=f.filter((function(e){return e.propertyName!==n}));m(a)}),[t,s,l,f]),y=Object(n.useCallback)((function(e){if(e){var t=c.find((function(t){return t.propertyName===e}));f.push(t)}return null}),[f,c]),v=Object(n.useCallback)((function(e,t){var r=e.propertyName;return Object(H.jsx)(Ie.a,{value:r,children:r},t)}),[]),N=Object(n.useCallback)((function(e){var t=c.find((function(t){return t.propertyName===e})),r=f.slice();return r.push(t),r.map(v)}),[f,c,v]),P=Object(n.useCallback)((function(){var e={id:"",propertyName:"",propertyValue:"",propertyType:""};Array.isArray(d)?s("propertiesOfProduct",[].concat(Object(ur.a)(d),[e]),!0):s("propertiesOfProduct",[e],!0)}),[s,d]),w=Object(n.useCallback)((function(e){var t=d.filter((function(t,r){return r!==e}));s("propertiesOfProduct",t,!0)}),[s,d]),C=Object(n.useCallback)((function(e,t){var r={propertyValue:""};Array.isArray(t)?s(e,[].concat(Object(ur.a)(t),[r]),!0):s(e,[r],!0)}),[s]),E=Object(n.useCallback)((function(e,t,r){var n=t.filter((function(e,t){return t!==r}));s(e,n,!0)}),[s]),S=Object(n.useCallback)((function(e,t){return r.propertiesOfProduct&&r.propertiesOfProduct[e]&&a.propertiesOfProduct&&a.propertiesOfProduct[e]&&r.propertiesOfProduct[e].propertyValue&&a.propertiesOfProduct[e].propertyValue&&r.propertiesOfProduct[e].propertyValue[t]&&a.propertiesOfProduct[e].propertyValue[t]}),[r.propertiesOfProduct,a.propertiesOfProduct]),I=Object(n.useCallback)((function(e,n){var s=c.find((function(t){return t.propertyName===e.propertyName}));e.propertyType=s.propertyType,e.id=s.id;var l="propertiesOfProduct.".concat(n,".propertyValue");switch(s.propertyType){case"Dropdown":return Object(H.jsxs)("div",{className:"add-property-right-column",children:[Object(H.jsx)("p",{className:"property-name",children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),e.propertyValue&&e.propertyValue.length>0&&e.propertyValue.map((function(o,c){return Object(H.jsxs)("div",{className:"input-with-remove-button",children:[Object(H.jsxs)(ke.a,{error:S(n,c)?Boolean(r.propertiesOfProduct[n].propertyValue[c].propertyValue&&a.propertiesOfProduct[n].propertyValue[c].propertyValue):null,children:[Object(H.jsx)(Et.a,{type:"text",variant:"outlined",notched:!1,multiline:!0,classes:{root:b.root,input:b.input},name:"".concat(l,".").concat(c,".propertyValue"),onChange:t,onBlur:function(e){return u(e,"propertiesOfProduct.".concat(n,".propertyValue.").concat(c,".propertyValue"))},value:d[n].propertyValue[c].propertyValue}),S(n,c)?i(r.propertiesOfProduct[n].propertyValue[c].propertyValue,a.propertiesOfProduct[n].propertyValue[c].propertyValue):null]}),Object(H.jsx)(oe.a,{classes:{root:j.root},onClick:function(){return E(l,e.propertyValue,c)},children:Object(H.jsx)(hr.a,{})})]},c)})),Object(H.jsx)("div",{className:"right-column-add-button",children:Object(H.jsx)(oe.a,{classes:{root:j.root},onClick:function(){return C(l,e.propertyValue)},children:Object(H.jsx)(jr.a,{})})})]});case"Number":var p=r.propertiesOfProduct&&r.propertiesOfProduct[n]&&a.propertiesOfProduct&&a.propertiesOfProduct[n];return Object(H.jsxs)("div",{className:"add-property-right-column",children:[Object(H.jsx)("p",{className:"property-name",children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),Object(H.jsxs)(ke.a,{error:p?Boolean(r.propertiesOfProduct[n].propertyValue&&a.propertiesOfProduct[n].propertyValue):null,children:[Object(H.jsx)(Et.a,{type:"number",variant:"outlined",notched:!1,classes:{root:b.root,input:b.input},name:"".concat(l),onChange:t,onBlur:o,value:d[n].propertyValue}),p?i(r.propertiesOfProduct[n].propertyValue,a.propertiesOfProduct[n].propertyValue):null]})]});case"String":var h=r.propertiesOfProduct&&r.propertiesOfProduct[n]&&a.propertiesOfProduct&&a.propertiesOfProduct[n];return Object(H.jsxs)("div",{className:"add-property-right-column",children:[Object(H.jsx)("p",{className:"property-name",children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),Object(H.jsxs)(ke.a,{error:h?Boolean(r.propertiesOfProduct[n].propertyValue&&a.propertiesOfProduct[n].propertyValue):null,children:[Object(H.jsx)(Et.a,{type:"text",variant:"outlined",notched:!1,multiline:!0,classes:{root:b.root,input:b.input},name:"".concat(l),onChange:t,onBlur:function(e){return u(e,"propertiesOfProduct.".concat(n,".propertyValue"))},value:d[n].propertyValue}),h?i(r.propertiesOfProduct[n].propertyValue,a.propertiesOfProduct[n].propertyValue):null]})]});default:return null}}),[C,j.root,b.input,b.root,a.propertiesOfProduct,i,o,t,c,d,E,r.propertiesOfProduct,S,u]);return Object(H.jsxs)("div",{className:"add-property-to-product",children:[Object(H.jsxs)("div",{className:"add-property-head",children:[Object(H.jsx)("h5",{children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0443 \u0441\u0432\u043e\u0439\u0441\u0442\u0432"}),c.length>d.length&&Object(H.jsx)(oe.a,{classes:{root:j.root},onClick:function(){P()},children:Object(H.jsx)(jr.a,{})})]}),Object(H.jsx)("div",{className:"add-property-body",children:d.map((function(e,t){return Object(H.jsxs)("div",{className:"add-property-body-element",children:[Object(H.jsxs)("div",{className:"add-prop-left-column",children:[Object(H.jsxs)("div",{className:"add-prop-row",children:[Object(H.jsx)("div",{className:"add-prop-left-button-wrap",children:Object(H.jsx)(oe.a,{classes:{root:j.root},onClick:function(){y(d[t].propertyName),w(t)},children:Object(H.jsx)(hr.a,{})})}),Object(H.jsxs)("p",{className:"property-name",children:["\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e ",t+1]})]}),Object(H.jsx)(ke.a,{variant:"outlined",className:p.formControl,classes:{label:p.label},children:Object(H.jsx)(Te.a,{classes:{root:p.root,icon:p.icon},name:"propertiesOfProduct.".concat(t,".propertyName"),value:d[t].propertyName,onChange:function(e){g(e,t)},onBlur:o,notched:!1,children:d[t].propertyName?N(d[t].propertyName):f.map(v)})})]}),d[t].propertyName&&I(d[t],t)]},t)}))})]})}))),fr=It.f().shape({itemId:It.b(),itemName:It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").trim("\u0411\u0435\u0437 \u043f\u0430\u0440\u043e\u0431\u0435\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),price:It.e().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c").integer("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0446\u0435\u043b\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c").test("firstSymbol","\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u0440\u043e\u0432\u043d\u044f\u0442\u044c\u0441\u044f \u043d\u0443\u043b\u044e",(function(e){return"0"!==(null===e||void 0===e?void 0:e.toString().charAt(0))})).required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),file:It.f().when("itemId",{is:!0,then:It.f().shape({file:It.d().test("fileSize","\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 150\u043a\u0431",(function(e){return!e||e.size<153600})),type:It.h().oneOf(["image/jpeg","image/png","image/pjpeg"],"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u043c .jpg,.jpeg,.png"),name:It.h()}).nullable().typeError("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b"),otherwise:It.f().shape({file:It.d().test("fileSize","\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 150\u043a\u0431",(function(e){return!e||e.size<153600})).typeError("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b").required("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b"),type:It.h().oneOf(["image/jpeg","image/png","image/pjpeg"],"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u043c .jpg,.jpeg,.png").typeError("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b").required("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b"),name:It.h().typeError("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b").required("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u0430\u0439\u043b")}).required()}),fileUrl:It.h().nullable().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439"),description:It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertiesOfProduct:It.a().of(It.f().shape({id:It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertyName:It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertyType:It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertyValue:It.c((function(e){switch(typeof e){case"number":return It.e().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435");case"string":return It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435");default:return It.a().of(It.f().shape({propertyValue:It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")})).required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}}))}).required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"))}),mr=(r(320),Object(n.memo)((function(e){var t,r=e.properties,a=e.productsError,o=e.itemId,c=e.editingProduct,i=e.clearSelectedProduct,d=e.createdProduct,p=e.editedProduct,j=e.productsSpinnerOpen,b=e.productsSpinnerClose,h=Object(n.useState)(null),O=Object($.a)(h,2),f=O[0],m=O[1],x=Ft(),g=Tt(),y=qt(),v=Lt(),N=Vt(),P=Object(n.useCallback)((function(e){return e.toString().replace(/(\d)(?=(\d{3})+$)/g,"$1 ")}),[]),w=Object(n.useCallback)((function(e,t){if(!t)return e;var r=t.filter((function(t){return!e.some((function(e){return t.id===e.id}))}));return e.concat(r)}),[]),C=Object(n.useMemo)((function(){return o?w(r,c.propertiesOfProduct):r}),[o,r,c,w]),E=Object(n.useCallback)((function(e){return e&&{file:e,type:e.type,name:e.name}}),[]),S=Object(n.useCallback)((function(e){e.target.files[0]?m(e.target.files[0]):m(null)}),[]),I=Object(n.useCallback)((function(e,t,r){return e&&t&&Object(H.jsx)(yt.a,{children:t},r)}),[]),k=Object(xt.a)({initialValues:{itemId:Boolean(o),itemName:c.itemName,price:o?c.price:"",file:void 0,fileUrl:c.fileUrl,dateOfChange:"",description:c.description,propertiesOfProduct:o&&c.propertiesOfProduct?c.propertiesOfProduct:[]},validationSchema:fr,onSubmit:function(){var e=Object(_e.a)(Ve.a.mark((function e(t){var r,n,c,i,s;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(),r=t.price,n=parseInt(String(r).replace(/ /g,"")),!f){e.next=10;break}return c="".concat(f.name,"_").concat(Math.floor(1e6*Math.random())),i=De.ref("images/".concat(c)).put(f),e.next=8,i.on("state_changed",(function(e){}),(function(e){a(e)}),(function(){De.ref("images").child(c).getDownloadURL().then((function(e){var r=Object(u.a)(Object(u.a)({},t),{},{price:n,file:[],fileUrl:e});o?Me(Object(u.a)(Object(u.a)({},r),{},{dateOfChange:We()}),o,"products",a,b,p):He(Object(u.a)(Object(u.a)({},r),{},{dateOfChange:We()}),"products",a,b,d)}))}));case 8:e.next=13;break;case 10:return s=Object(u.a)(Object(u.a)({},t),{},{price:n,file:[]}),e.next=13,Me(Object(u.a)(Object(u.a)({},s),{},{dateOfChange:We()}),o,"products",a,b,p);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validateOnBlur:!0}),T=k.values,F=k.values,R=F.itemName,V=F.price,_=F.file,B=F.fileUrl,D=F.description,A=F.propertiesOfProduct,U=k.errors,q=k.touched,L=k.handleChange,M=k.handleBlur,W=k.isValid,z=k.handleSubmit,G=k.dirty,Q=k.setFieldTouched,J=k.setFieldValue,X=Object(n.useCallback)((function(e,t){M(e);var r=e.target.value.trim();J(t,r,!0)}),[M,J]);return Object(H.jsx)("div",{className:"add-item",children:Object(H.jsx)("div",{className:"add-item-bordered-wrap",children:Object(H.jsxs)("form",{onSubmit:z,className:"add-item-wrap",children:[Object(H.jsxs)("div",{className:"buttons-wrap",children:[Object(H.jsx)(s.b,{to:"/",className:"button-back",onClick:i,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"}),Object(H.jsx)(vt.a,{disableRipple:!0,className:"button-save",classes:{root:y.root,label:y.label},type:"submit",disabled:!W||!G,onClick:z,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(H.jsx)("div",{className:"add-item-head",children:Object(H.jsx)("h5",{children:o?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"})}),Object(H.jsxs)("div",{className:"add-item-body",children:[Object(H.jsxs)(ke.a,{error:Boolean(q.itemName&&U.itemName),children:[Object(H.jsxs)(gt.a,{classes:{root:x.root},className:"labels",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",Object(H.jsx)("span",{className:"red-star",children:"*"})]}),Object(H.jsx)(Et.a,{type:"text",variant:"outlined",notched:!1,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",multiline:!0,classes:{root:g.root,input:g.input},name:"itemName",onChange:L,onBlur:function(e){return X(e,"itemName")},value:R}),I(q.itemName,U.itemName)]}),Object(H.jsxs)(ke.a,{error:Boolean(q.price&&U.price),children:[Object(H.jsxs)(gt.a,{classes:{root:x.root},className:"labels",children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u0430",Object(H.jsx)("span",{className:"red-star",children:"*"})]}),Object(H.jsx)(sr.a,{classesInput:g,onChange:L,onBlur:M,values:V,customInput:dr,format:P}),I(q.price,U.price)]}),Object(H.jsxs)(ke.a,{error:Boolean(q.file&&U.file),className:"upload-bnt-wrap",children:[Object(H.jsxs)(gt.a,{classes:{root:x.root},className:"labels",children:["\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",Object(H.jsx)("span",{className:"red-star",children:"*"})]}),Object(H.jsx)("input",{accept:".jpg,.jpeg,.png",className:"upload-input",id:"contained-button-file",multiple:!0,type:"file",name:"file",onBlur:M,onChange:function(e){var t=e.target.files,r=E(t.item(0));Q("file",!0,!0),S(e),T.fileUrl=null,r?J("file",r,!0):(J("file",void 0,!0),T.fileUrl=c.fileUrl)}}),Object(H.jsx)("label",{className:"upload-bnt-label",htmlFor:"contained-button-file",children:Object(H.jsx)(l.a,{theme:Wt,children:Object(H.jsx)(vt.a,{variant:"contained",component:"span",disableRipple:!0,classes:{root:v.root,label:v.label},endIcon:Object(H.jsx)("i",{className:"fa fa-upload","aria-hidden":"true"}),children:void 0===_||null===_?Object(H.jsx)("div",{className:"upload-btn-name",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}):_.file.name})})}),I(q.file,null===(t=U.file)||void 0===t?void 0:t.file)]}),Object(H.jsx)("div",{className:"thumb-wrapper img-thumbnail",children:B?Object(H.jsx)("img",{src:B,alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",className:"thumb"}):Object(H.jsx)(lr,{file:void 0===_||null===_?null:_.file})}),Object(H.jsxs)(ke.a,{error:Boolean(q.description&&U.description),children:[Object(H.jsxs)(gt.a,{classes:{root:x.root},className:"labels",children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",Object(H.jsx)("span",{className:"red-star",children:"*"})]}),Object(H.jsx)(Et.a,{type:"text",multiline:!0,rows:5,inputProps:{maxLength:1e3},variant:"outlined",notched:!1,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 1000 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",className:"add-item-textarea",classes:{root:N.root},name:"description",onChange:L,onBlur:function(e){return X(e,"description")},value:D}),I(q.description,U.description)]})]}),Object(H.jsx)(Or,{handleChange:L,touched:q,errors:U,handleBlur:M,propertiesOfProduct:A,properties:C,getError:I,setFieldValue:J,setFieldTouched:Q,handleTrim:X})]})})})}))),xr=Object(z.g)(mr),gr={fetchProperties:it,fetchProducts:nt,productsError:rt,fetchSelectedProduct:Ze,clearSelectedProduct:Ye,createdProduct:function(){return{type:P,payload:"/"}},editedProduct:function(){return{type:w,payload:"/"}},productsSpinnerOpen:tt,productsSpinnerClose:function(){return{type:b}},resetNotifications:Je},yr=Object(d.c)(lt,Object(i.b)((function(e){return{properties:e.properties.properties,loadingProps:e.properties.loading,errorProps:e.properties.error,loadingProducts:e.products.loading,errorProducts:e.products.error,loadingEditingProduct:e.selectedProduct.loading,errorEditingProduct:e.selectedProduct.error,editingProduct:e.selectedProduct.selectedProduct}}),gr))((function(e){var t=e.fetchProperties,r=e.fetchProducts,a=e.productsError,o=e.properties,c=e.loadingProps,i=e.errorProps,s=e.loadingProducts,l=e.errorProducts,d=e.loadingEditingProduct,u=e.errorEditingProduct,p=e.editingProduct,j=e.fetchSelectedProduct,b=e.clearSelectedProduct,h=e.createdProduct,O=e.editedProduct,f=e.productsSpinnerOpen,m=e.productsSpinnerClose,x=e.match,g=e.resetNotifications,y=x.params.id;Object(n.useEffect)((function(){return g(),r(),t(),y&&j(y),function(){return b()}}),[y,g,r,t,j,b]);var v=Object(n.useMemo)((function(){return c||d&&y}),[c,d,y]);return Object(n.useMemo)((function(){return i||l||u&&y}),[i,l,u,y])?Object(H.jsx)(M,{}):v?Object(H.jsx)(fe,{}):Object(H.jsxs)(H.Fragment,{children:[s&&Object(H.jsx)(fe,{}),Object(H.jsx)(xr,{properties:o,productsError:a,itemId:y,editingProduct:p,clearSelectedProduct:b,createdProduct:h,editedProduct:O,productsSpinnerOpen:f,productsSpinnerClose:m})]})})),vr=It.f().shape({itemName:It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),description:It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),fileUrl:It.h().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),price:It.e().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c").integer("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0446\u0435\u043b\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),propertiesOfProduct:It.a().of(It.f().shape({id:It.h(),propertyName:It.h(),propertyType:It.h(),propertyValue:It.h()}))}),Nr=(r(321),function(e){var t=e.selectedProduct,r=e.clearSelectedProduct,a=e.logIn,o=At(),c=Ht(),i=t.itemName,l=t.fileUrl,d=t.description,u=t.price,p=t.propertiesOfProduct,j=Object(xt.a)({initialValues:{itemName:i,description:d,fileUrl:l,price:u,propertiesOfProduct:p||[]},validationSchema:vr,onSubmit:function(){var e=Object(_e.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:console.log(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validateOnBlur:!0}),b=j.values,h=j.handleChange,O=j.handleBlur,f=j.isValid,m=j.handleSubmit,x=j.setFieldValue,g=Object(n.useCallback)((function(e,t){if("Dropdown"===e.propertyType)return x("propertiesOfProduct.".concat(t,".propertyValue"),p[t].propertyValue[0].propertyValue,!1)}),[p,x]);Object(n.useEffect)((function(){p&&p.map(g)}),[p,g]);var y=function(e,t){var r=e.propertyValue;return Object(H.jsx)(Ie.a,{value:r,children:r},t)};return Object(H.jsx)("div",{className:"product-card",children:Object(H.jsx)("div",{className:"product-card-bordered-wrap",children:Object(H.jsxs)("div",{className:"product-card-wrap",children:[a?Object(H.jsx)("div",{className:"link",children:Object(H.jsx)(s.b,{to:"/",onClick:r,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})}):null,Object(H.jsxs)("form",{onSubmit:m,className:"product-card-wrapper",children:[Object(H.jsxs)("div",{className:"header-items-row",children:[Object(H.jsx)("div",{className:"item-image",children:Object(H.jsx)("img",{src:l,alt:"product"})}),Object(H.jsxs)("div",{className:"item-information",children:[Object(H.jsx)("h3",{children:i}),Object(H.jsx)("p",{children:d})]})]}),Object(H.jsxs)("div",{className:"bottom-items-row",children:[Object(H.jsxs)("div",{className:"item-properties",children:[p&&p.map((function(e,t){var r=e.propertyName,n=e.propertyType,a=e.propertyValue;switch(n){case"Dropdown":return Object(H.jsxs)("div",{children:[Object(H.jsx)("h4",{children:r}),Object(H.jsx)(ke.a,{variant:"outlined",className:c.formControl,children:Object(H.jsx)(Te.a,{classes:{root:c.root,icon:c.icon},name:"propertiesOfProduct.".concat(t,".propertyValue"),onChange:h,onBlur:O,notched:!1,value:Array.isArray(b.propertiesOfProduct[t].propertyValue)?"":b.propertiesOfProduct[t].propertyValue,children:a.map(y)})})]},t);case"Number":case"String":return Object(H.jsxs)("div",{children:[Object(H.jsx)("h4",{children:r}),Object(H.jsx)("p",{children:a})]},t);default:return null}})),Object(H.jsx)("h4",{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(H.jsxs)("span",{className:"price",children:[u.toLocaleString("ru-RU"),"$"]})]}),Object(H.jsx)("div",{className:"button-wrap",children:Object(H.jsx)(vt.a,{classes:{root:o.root,label:o.label},type:"submit",disabled:!f,onClick:m,children:"\u0411\u0435\u0440\u0443!!!"})})]})]})]})})})}),Pr={fetchSelectedProduct:Ze,clearSelectedProduct:Ye,resetNotifications:Je},wr=Object(i.b)((function(e){return{loading:e.selectedProduct.loading,error:e.selectedProduct.error,selectedProduct:e.selectedProduct.selectedProduct,logIn:e.isAuth.logIn}}),Pr)((function(e){var t=e.match,r=e.selectedProduct,a=e.loading,o=e.error,c=e.fetchSelectedProduct,i=e.clearSelectedProduct,s=e.logIn,l=e.resetNotifications,d=t.params.id;return Object(n.useEffect)((function(){return l(),c(d),function(){return i()}}),[d,l,c,i]),a?Object(H.jsx)(fe,{}):o?Object(H.jsx)(M,{}):Object(H.jsx)(Nr,{selectedProduct:r,clearSelectedProduct:i,logIn:s})})),Cr=(r(322),function(){return Object(H.jsx)("div",{className:"app",children:Object(H.jsx)("div",{className:"wrapper",children:Object(H.jsxs)(z.d,{children:[Object(H.jsx)(z.b,{path:"/",component:mt,exact:!0}),Object(H.jsx)(z.b,{path:"/property-list",component:mt}),Object(H.jsx)(z.b,{path:"/add-property",component:ir}),Object(H.jsx)(z.b,{path:"/item-card/:id",component:wr}),Object(H.jsx)(z.b,{path:"/add-item/:id?",component:yr}),Object(H.jsx)(z.b,{path:"/login",component:$t}),Object(H.jsx)(z.b,{path:"/registration",component:Yt}),Object(H.jsx)(z.b,{render:function(){return Object(H.jsx)(M,{})}})]})})})}),Er={userIsAuth:ze},Sr=Object(i.b)(null,Er)((function(e){var t=e.userIsAuth;return Object(n.useEffect)((function(){t()}),[t]),Object(H.jsx)(Cr,{})})),Ir=r(393),kr=r(389),Tr=function(e){return Object(H.jsx)(kr.a,Object(u.a)({elevation:6,variant:"filled"},e))},Fr=Object(z.g)((function(e){var t=e.history,r=e.showNotification,n=e.path,a=e.deletedItem,o=e.isEditing,c=e.closeNotifications,i=function(e,r,a){"clickaway"!==r&&(c(),a||function(e){t.push("".concat(e))}(n))};return o&&!a&&"/"===n?Object(H.jsx)(Ir.a,{open:r,autoHideDuration:4e3,onClose:i,children:Object(H.jsx)(Tr,{onClose:i,severity:"success",children:"\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d! \u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432."})}):o||a||"/"!==n?o||a||"/property-list"!==n?a?Object(H.jsx)(Ir.a,{open:r,autoHideDuration:4e3,onClose:function(e,t){return i(0,t,!0)},children:Object(H.jsxs)(Tr,{onClose:function(e,t){return i(0,t,!0)},severity:"success",children:["\u0442\u043e\u0432\u0430\u0440"===a?"\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d":null,"\u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e"===a?"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e":null]})}):null:Object(H.jsx)(Ir.a,{open:r,autoHideDuration:4e3,onClose:i,children:Object(H.jsx)(Tr,{onClose:i,severity:"success",children:"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e! \u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u0441\u0432\u043e\u0439\u0441\u0442\u0432."})}):Object(H.jsx)(Ir.a,{open:r,autoHideDuration:4e3,onClose:i,children:Object(H.jsx)(Tr,{onClose:i,severity:"success",children:"\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d! \u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432."})})})),Rr={closeNotifications:function(){return{type:I}}},Vr=Object(i.b)((function(e){return{showNotification:e.notifications.showNotification,path:e.notifications.path,isEditing:e.notifications.isEditing,deletedItem:e.notifications.deletedItem}}),Rr)((function(e){var t=e.showNotification,r=e.path,n=e.isEditing,a=e.deletedItem,o=e.closeNotifications;return Object(H.jsx)(Fr,{showNotification:t,path:r,isEditing:n,deletedItem:a,closeNotifications:o})}));r(323);c.a.render(Object(H.jsx)(i.a,{store:D,children:Object(H.jsx)(W,{children:Object(H.jsxs)(s.a,{children:[Object(H.jsx)(Vr,{}),Object(H.jsx)(l.a,{theme:Mt,children:Object(H.jsx)(Sr,{})})]})})}),document.getElementById("root"))}},[[324,1,2]]]);
//# sourceMappingURL=main.4c69fd0a.chunk.js.map